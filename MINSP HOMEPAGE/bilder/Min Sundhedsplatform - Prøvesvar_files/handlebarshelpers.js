/*! Copyright (c) Epic Systems Corporation 2014-2018 */
$$WPUtil.guaranteeExistence($$WP,"Handlebars");$$WPUtil.guaranteeExistence($$WP,"Templates");$$WP.Handlebars.addComponent=function addComponent(c){var a="componentcontainer_"+$$WPUtil.generateGUID(),b=function(){var d=document.getElementById(a);$$WP.Utilities.addComponent._Counter[a]++;if(!d){$$WP.Utilities.addComponent._Counter[a]<10&&window.setTimeout(b,1);return}delete $$WPUtil.Handlebars.addComponent._Counter[a];$afe.jq(d).safeAppend(c.$container)};$$WP.Utilities.addComponent._Counter[a]=0;window.setTimeout(b,1);return'<div id="'+a+'"></div>'};$$WP.Handlebars.addComponent._Counter={};Handlebars.registerHelper("setStringNamespace",$$WP.Strings.setDefaultNamespace);Handlebars.registerHelper("clearStringNamespace",$$WP.Strings.clearDefaultNamespace);Handlebars.registerHelper("getStringResource",$$WP.Strings.getForTemplate);Handlebars.registerHelper("getDisplayString",function(b,c,a){return typeof a==="string"&&a?$$WP.Strings.getForTemplate(b+"_"+a,c):$$WP.Strings.getForTemplate(b,c)});Handlebars.registerHelper("getDisplayStringWithMnemonics",function(f,c){var d="@MYCHART@",a,b,e;if($.isFunction(c))a=c();else a=c;for(b in a)$$WP.Strings.addMnemonic(d+b.toUpperCase()+"@",a[b].Value,a[b].IsLink,a[b].Namespace,a[b].EncodingType);e=$$WP.Strings.getForTemplate(f);for(b in a)$$WP.Strings.removeMnemonic(d+b.toUpperCase()+"@",a[b].Namespace);return e});Handlebars.registerHelper("addStringResourceMnemonic",$$WP.Strings.addMnemonic);Handlebars.registerHelper("addLinkMnemonic",function(d,c,a,e,f){a=$$WP.Strings.getNamespace().replaceMnemonics(a);var b='<a data-id="redirect" href="'+a+'" data-redirect="'+a+'" data-organization="'+e;if(f===true)b+='" target="_blank';$$WP.Strings.addMnemonic(d,b+'">'+$$WP.Strings.get(c)+"</a>",false,null,$$WP.Strings.EncodingTypes.None)});Handlebars.registerHelper("setOrganization",$$WP.Strings.setOrganization);Handlebars.registerHelper("clearOrganization",$$WP.Strings.clearOrganization);Handlebars.registerHelper("removeStringResourceMnemonic",$$WP.Strings.removeMnemonic);Handlebars.registerHelper("URLEncode",encodeURI);Handlebars.registerHelper("addComponent",$$WP.Handlebars.addComponent);Handlebars.registerHelper("ifEquals",function(b,c,a){return b!==c?a.inverse(this):a.fn(this)});Handlebars.registerHelper("ifNotEquals",function(b,c,a){return b===c?a.inverse(this):a.fn(this)});Handlebars.registerHelper("addTemplate",function(d,f,c,g){for(var e=d.split("."),h=e.length,a=$$WP.Templates,b=0;b<h;b++)a=a[e[b]];if(typeof a!=="function")throw"addTemplate could not find $$WP.Templates."+d;if(c&&g)f.AdditionalData=c;return new Handlebars.SafeString(a(f))});try{if(makeLink){Handlebars.registerHelper("makeLink",makeLink);Handlebars.registerHelper("makeStaticLink",makeStaticLink);Handlebars.registerHelper("makeStaticImageLink",makeStaticImageLink);Handlebars.registerHelper("showFile",function(a){return makeLink("showfile.asp?key="+a)})}}catch(ex){}Handlebars.registerHelper("writeLink",function(b,a){return'<a href="'+b+'" onclick="$$WPUtil.TryRedirect(this.href); return false">'+a+"</a>"});Handlebars.registerHelper("ifLt",function(b,c,a){return b<c?a.fn(this):a.inverse(this)});Handlebars.registerHelper("ifGt",function(b,c,a){return b>c?a.fn(this):a.inverse(this)});Handlebars.registerHelper("isLastInArray",function(c,b,a){return c+1===b?a.fn(this):a.inverse(this)});Handlebars.registerHelper("isMiddleInArray",function(c,b,a){return c+1===Math.ceil(b/2)?a.fn(this):a.inverse(this)});Handlebars.registerHelper("each-reverse",function(c,d){var a,b="";if(c&&c.length>0)for(a=c.length-1;a>=0;a--){d.data.index=a;b=b+d.fn(c[a])}else b=d.inverse(this);return b});Handlebars.registerHelper("raw",function(a){return new Handlebars.SafeString(a)});Handlebars.registerHelper("ifEven",function(b,a){return b%2===0?a.fn(this):a.inverse(this)});Handlebars.registerHelper("canShowExternalLoadingIndicator",function(a){return $$WP.CommunityUtilities.hasCommunityLinks()?a.fn(this):a.inverse(this)});Handlebars.registerHelper("ifAny",function(){for(var a=arguments.length-1,b=0;b<a;b++)if(arguments[b])return arguments[a].fn(this);return arguments[a].inverse(this)});Handlebars.registerHelper("ifAll",function(){for(var a=arguments.length-1,b=0;b<a;b++)if(!arguments[b])return arguments[a].inverse(this);return arguments[a].fn(this)});Handlebars.registerHelper("ifNone",function(){for(var a=arguments.length-1,b=0;b<a;b++)if(arguments[b])return arguments[a].inverse(this);return arguments[a].fn(this)});Handlebars.registerHelper("addition",function(a,b){a=Number(a)||0;b=Number(b)||0;return a+b});Handlebars.registerHelper("concat",function(a,b){a=String(a)||"";b=String(b)||"";return a+b});Handlebars.registerHelper("join",function(a,b){return a&&a.join?a.join(b):null});Handlebars.registerHelper("validationSettingsAttribute",$$WP.FormValidation.Handlebars.validationSettingsAttribute);Handlebars.registerHelper("messageDisplay",$$WP.FormValidation.Handlebars.messageDisplay);Handlebars.registerHelper("messageDisplayForAttribute",$$WP.FormValidation.Handlebars.messageDisplayForAttribute);Handlebars.registerHelper("disableIfInvalidAttribute",$$WP.FormValidation.Handlebars.disableIfInvalidAttribute);Handlebars.registerHelper("validationGroupAttribute",$$WP.FormValidation.Handlebars.validationGroupAttribute);Handlebars.registerHelper("validationRequiredAttribute",$$WP.FormValidation.Handlebars.validationRequiredAttribute);Handlebars.registerHelper("numberAsCurrency",function(a,c){var b;if($.isFunction(a))b=a();else b=a;return $$WP.Currency.Helpers.numberToCurrency(b,c)});Handlebars.registerHelper("ifIn",function(c,b,a){return Object.prototype.toString.call(b)==="[object Array]"&&b.indexOf(c)>-1?a.fn(this):a.inverse(this)});Handlebars.registerHelper("ifMobile",function(a){return $$WP.Utilities.UI.IsMobile?a.fn(this):a.inverse(this)});Handlebars.registerHelper("ifNotMobile",function(a){return!$$WP.Utilities.UI.IsMobile?a.fn(this):a.inverse(this)});Handlebars.registerHelper("ifDataTiles",function(a){return isDataTile()?a.fn(this):a.inverse(this)});Handlebars.registerHelper("ifNotDataTiles",function(a){return!isDataTile()?a.fn(this):a.inverse(this)});Handlebars.registerHelper("ifWelcomeOrMobile",function(a){return $$WP.ApplicationContext===78||$$WP.Utilities.UI.IsMobile?a.fn(this):a.inverse(this)});Handlebars.registerHelper("ifNotWelcomeOrMobile",function(a){return $$WP.ApplicationContext!==78&&!$$WP.Utilities.UI.IsMobile?a.fn(this):a.inverse(this)});Handlebars.registerHelper("ifPreLogin",function(a){return!$$WP.Utilities.UI.IsLoggedIn?a.fn(this):a.inverse(this)});Handlebars.registerHelper("breakLines",function(a){a=Handlebars.Utils.escapeExpression(a);a=a.replace(/(\r\n|\n|\r)/gm,"<br>");return new Handlebars.SafeString(a)});Handlebars.registerHelper("verticalDateWithYear",function(e,b,d){var c=new Date(d,b-1,e),a=$$WP.I18N.getOrderedDatePieces(false);return new Handlebars.SafeString($$WP.I18N.Handlebars.verticalDate(c,a))});Handlebars.registerHelper("verticalDateWithDayName",function(e,b,d){var c=new Date(d,b-1,e),a=$$WP.I18N.getOrderedDatePieces(true);if(a[0]==="d")a.unshift("dow");else a.push("dow");return new Handlebars.SafeString($$WP.I18N.Handlebars.verticalDate(c,a))});Handlebars.registerHelper("encodeURIComponent",encodeURIComponent);Handlebars.registerHelper("infoBubble",function(b,c,a){return Handlebars.helpers.addTemplate("UI.InfoBubble",new $$WP.UI.InfoBubble({BubbleTitle:b,BubbleText:c,DisableHtmlEncoding:typeof a==="Boolean"&&a===true,Image:"images/info.png"}))});Handlebars.registerHelper("customInfoBubble",function(b,c,d,a){return Handlebars.helpers.addTemplate("UI.InfoBubble",new $$WP.UI.InfoBubble({BubbleTitle:c,BubbleText:d,DisableHtmlEncoding:typeof a==="Boolean"&&a===true,Image:b}))});Handlebars.registerHelper("simpleInfoBubble",function(b,a){return Handlebars.helpers.addTemplate("UI.InfoBubble",$$WP.UI.InfoBubble.SimpleInfoBubble(b,typeof a==="Boolean"&&a===true))});Handlebars.registerHelper("textInfoBubble",function(b,c,d,a){return Handlebars.helpers.addTemplate("UI.InfoBubble",new $$WP.UI.InfoBubble({AnchorText:b,BubbleTitle:c,BubbleText:d,DisableHtmlEncoding:typeof a==="Boolean"&&a===true}))});Handlebars.registerHelper("simpleTextInfoBubble",function(b,c,a){return Handlebars.helpers.addTemplate("UI.InfoBubble",$$WP.UI.InfoBubble.SimpleTextInfoBubble(b,c,typeof a==="Boolean"&&a===true))});Handlebars.registerHelper("repeat",function(d,e){for(var a="",c={},b=1;b<=d;b++){c.index=b;a=a+e.fn(this,{data:c})}return a});Handlebars.registerHelper("ifArray",function(b,a){return Array.isArray(b)?a.fn(this):a.inverse(this)})