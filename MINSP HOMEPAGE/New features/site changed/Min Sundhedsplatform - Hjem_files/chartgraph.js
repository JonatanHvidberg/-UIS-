function toggleChartGraph(d,e){var c="none",b,a;b=document.getElementById(d);a=document.getElementById(e);if(b!==null&&a!==null){if(a.style.display===c){b.style.display=c;a.style.display="block"}else{b.style.display="block";a.style.display=c}$afe.jq(window).trigger("matchColumnHeights")}}function hndlSrsButnClk(h,c,e){var a=false,f,d,g,b;if(h===null)return a;f=c+"_"+(e===1?"selectnone":"selectall");d=document.getElementById(f);if(d===null)return a;g=c+"_updategraph";b=document.getElementById(g);if(b===null)return a;disableBtn(h);enableBtn(d);if(e===1)enableBtn(b);else disableBtn(b);if(e===1)setCheckboxesByPrefix(c+"_srsChk");else unsetCheckboxesByPrefix(c+"_srsChk");return a}function hndlSrsChkBxClick(c){var b,a,d;b=document.getElementById(c+"_selectall");a=document.getElementById(c+"_selectnone");d=document.getElementById(c+"_updategraph");if(b===null||a===null||d===null)return;switch(statusOfCheckboxesByPrefix(c+"_srsChk")){case 1:enableBtn(b);disableBtn(a);disableBtn(d);break;case 2:enableBtn(b);enableBtn(a);enableBtn(d);break;case 3:disableBtn(b);enableBtn(a)}}function hndlCGDataFieldKeyDown(b,d,c,f,e){var a;if(window.event)a=window.event.keyCode;else if(b.which)a=b.which;if(b.shiftKey&&a===16||a===9)return;hndlCGFldActivate(d,c,f,e)}function hndlCGFldActivate(c,b,d,e){var a;activateFieldsByIds(c);deactivateFieldsByIds(b);cgUpdateFormValidationForIds(c,b,d);a=document.getElementById(d+"_filter");if(a===null)return;$afe.jq(a).safeAttr("value",e)}function cgUpdateFormValidationForIds(l,i,m){var k="[data-message-display-for=",j="data-invalid",f="data-validation-settings",d="backup-data-validation-settings",e=null,b,g,c,a,n=false,h=$afe.jq(document.getElementById(m));if(l!==e)g=l.split(",");if(g!==e)for(b=0;b<g.length;b=b+1){a=$afe.jq(document.getElementById(g[b]));if(a.safeAttr(d)){a.safeAttr(f,a.safeAttr(d));a.removeAttr(d);n=true}}if(i!==e)c=i.split(",");if(c!==e)for(b=0;b<c.length;b=b+1){a=$afe.jq(document.getElementById(c[b]));if(a.safeAttr(d)!==a.safeAttr(f)){a.safeAttr(j)==="true"&&a.val("");a.safeAttr(d,a.safeAttr(f));a.removeClass("invalid");a.removeAttr(j);a.removeAttr(f);h.find(k+c[b]+"]").empty();a.safeAttr("optional-in-group")!=="true"&&h.find(k+m+"_groupValidation]").empty()}}$$WP.FormValidation.initializeDOMSubtree(h)}function handleCGSeriesSelShow(a){var b=null,c;if(typeof a!=="string")return false;c=document.getElementById(a+"_serSelWrap");if(c===b)return false;showElement(b,a+"_serSel");showElement(b,a+"_serSel_hide");hideElement(b,a+"_serSel_show");removeClassNames(c,"hide");return false}function handleCGSeriesSelHide(a){var b=null,c;if(typeof a!=="string")return false;c=document.getElementById(a+"_serSelWrap");if(c===b)return false;hideElement(b,a+"_serSel");hideElement(b,a+"_serSel_hide");showElement(b,a+"_serSel_show");c.className=c.className+" hide";return false}function cgClndrCallbackFactory(a){return function(f,d,e){var b=false,c=document.getElementById(a);if(c){c.holdErrors=b;c.openingCalendar=b;if(f&&!isNaN(d)&&d>-1&&d<12&&e){c.value=formatDate(new Date(f,d,e));if(document.createEvent)c.click=function(){var a=document.createEvent("MouseEvents");a.initMouseEvent("click",true,true,this.ownerDocument.defaultView,1,0,0,0,0,b,b,b,b,0,null);this.dispatchEvent(a)};c.click()}}}}function loadGraphs(){var c,a,b,d;c=document.getElementsByTagName("form");if(c!==null)for(a=0;a<c.length;a=a+1){b=c[a];if(b!==null)if(b.className==="graphXmlForm"){d=b.getAttribute("name");getGraphHtml(d,2)}}}function getGraphHtml(a,b){getCSRFTokenAsQS(function chartGraph$getCSRFTokenAsQS(e){var n="invisibleBlockContainer",m="_container",j,d,t,g,f,i,c,r,z,u,w,h,q,s,x,l,k,v,p,o,y;if(typeof a==="undefined"||a.length===0)return true;j=document.getElementById(a);d=j.elements.graphPrefix.value;f=parseInt(j.elements.width.value,10)+2;i=parseInt(j.elements.height.value,10)+2;c=j.elements.graphXml.value;g=document.getElementById(d+m);if(g===null)return false;h=g.offsetWidth;if(h<=0){y=$afe.select("#"+d+m);o=y.parents(".hidden");o.addClass(n);h=g.offsetWidth;o.removeClass(n)}if(isDataTile()&&h>0&&h<f){s=h/(f-2);q=Math.round((f-2)*s);p=Math.round((i-2)*s);l=c.indexOf("width%3D%22");x=c.indexOf("%22",l+11);k=c.indexOf("height%3D%22");v=c.indexOf("%22",k+12);if(l>-1&&k>-1){c=c.substring(0,l+11)+q+c.substring(x);c=c.substring(0,k+12)+p+c.substring(v);f=q+2;i=p+2}}e=e+"&graphPrefix="+d;e=e+"&graphXml="+encodeURIComponent(c);if($$WP.Utilities.UI.IsHighContrast())e=e+"&highContrast=1";t=function(c){var e,h,j;$afe.jq(g).empty();j=new RegExp(d+"msChart_graphPanel");if(c.match(j)){if(b>0)w="getGraphHtml('"+a+"', "+(b-1)+");";u="createGraphCanvas('"+d+"', "+f+", "+i+");";c=c.replace(/<img /i,'<img onload="'+u+'" onerror="'+w+'" ');c=c.replace(/src=".*(graphing\/ChartImg\.axd[^"]*)"/i,'src="'+makeLink("$1")+'"');e=WP.DOM.Create.tag("div","cgImgContainer",d+"_imgContainer","",c)}else{e=WP.DOM.Create.tag("div","alert","","",'<p class="errmsg"><span class=\"clearlabel\">Fejl: </span>Der opstod en fejl under generering af grafen. Prøv at genindlæse siden.</p>');if(z){h=WP.DOM.Create.tag("div","hidden grapherror","","",c);g.appendChild(h)}}e.appendChild(cgTooltipDiv(d));g.appendChild(e);setupImageMapAreas(d);r=document.getElementById(d+"msChart");r!==null&&$afe.jq(r).safeAttr("alt","Afbildning af graf").safeAttr("title","").css({"min-width":f,"min-height":i});$afe.jq(window).trigger("matchColumnHeights")};$.ajax({url:makeLink("graphing/Graph.aspx"),data:e,method:"POST",success:t})})}function createGraphCanvas(d,h,m){var j="_container",c=true,a,e,b,g,l,k,f,i;if(!WP.DOM.Browser.isIE&&!WP.DOM.Browser.isEdge)return c;a=WP.DOM.Create.tag("canvas","graphCanvas",d+"_canvas");if(!a||typeof a.getContext!=="function"){if(WP.DOM.Browser.IEDocMode<9){f=document.getElementById("printerfriendlylink");if(f)f.style.visibility="hidden";b=document.getElementById(d+j);if(!b)return c;i=WP.DOM.Create.tag("p","noPrintWarning printonly","","","Bemærk: Print af grafer understøttes ikke af Internet Explorer før version 9. Opgrader til Internet Explorer 9 eller en senere version, eller anvend anden browser fx Chrome, Firefox eller Safari.");$afe.jq(b.parentNode).safeInsertBefore(i,b.nextSibling);b.className="hideonpaper"}return c}a.width=h;a.height=m;k=WP.DOM.Create.tag("p","","","","Kopi af graf, der anvendes til tekniske formål. Ignorer venligst.");a.appendChild(k);g=document.getElementById(d+"_imgContainer");if(!g)return c;a.style.position="absolute";a.style.width=h+"px";a.style.height=m+"px";a.style.left="50%";a.style.marginLeft=h/-2+"px";a.style.top="0";b=document.getElementById(d+j);if(!b)return c;b.style.position="relative";$afe.jq(a).safeInsertBefore(g);e=document.getElementById(d+"msChart");if(!e)return c;l=a.getContext("2d");l.drawImage(e,0,0);e.style.opacity=0}function cgTooltipDiv(a){var b='<div id="',d,c;a=a+"msChart";c=b+a+'_ttSeriesNameDiv" class="ttSeriesNameDiv"></div>'+b+a+'_ttValueDiv" class="ttValueDiv">'+b+a+'_ttUpperValDiv" class="ttUpperValDiv"></div>'+b+a+'_ttLowerValDiv" class="ttLowerValDiv"></div></div>'+b+a+'_ttDetailsDiv" class="ttDetailsDiv"></div>'+b+a+'_ttDateTimeDiv" class="ttDateTimeDiv"></div>'+b+a+'_ttMessageDiv" class="ttMessageDiv"></div>';d=WP.DOM.Create.tag("div","tooltipDiv card noprint",a+"_tooltipDiv","",c);return d}var cgIsMouseIn=false;function setupImageMapAreas(l){var e,g,a,b,f,k,j,i,h,d,c;e=document.getElementById(l+"msChartImageMap");if(e===null)return;g=e.getElementsByTagName("area");for(c=0;c<g.length;c=c+1){a=g[c];$afe.jq(a).safeAttr("title","").safeAttr("alt","");f=a.shape.toLowerCase()==="rect";k=a.shape.toLowerCase()==="circle";if(f||k){b=a.coords.split(",");i=b[0];j=b[1];if(f){h=b[2]-i;d=b[3]-j}else h=d=b[2]*2;$afe.jq(a).safeAttr("l",i).safeAttr("t",j).safeAttr("w",h).safeAttr("h",d)}}}function stt(d,z){var D="leftside",C="-10000px",B="underline",A="_ttMessageDiv",a=null,e,b,t,E,F,i,f,q,j,x,c,r,w,h,p,u,l,g,v,s,n,o,k,y,m;if(!cgIsMouseIn){cgIsMouseIn=true;document.body.style.cursor="default";e=document.getElementById(d+"_tooltipDiv");z=d+"_"+z;b=document.getElementById(z);if(e!==a&&b!==a){t=b.getAttribute("l")-0;E=b.getAttribute("t")-0;F=b.getAttribute("w")-0;i=b.getAttribute("tip");if(i!==a){f=document.getElementById(d+A);if(f!==a){dangerou$.setHtml(f,i);showElement(f)}}else{q=b.getAttribute("sn");j=document.getElementById(d+"_ttSeriesNameDiv");if(j!==a)if(q!==a){dangerou$.setHtml(j,q);showElement(j)}else hideElement(j);x=b.getAttribute("y0");if(x!==a){c=document.getElementById(d+"_ttUpperValDiv");if(c!==a){dangerou$.setHtml(c,x);showElement(c);removeClassNames(c,B);r=b.getAttribute("y0u");r!==a&&dangerou$.setHtml(c,c.innerHTML+" "+r)}}w=b.getAttribute("y1");if(w!==a){h=document.getElementById(d+"_ttLowerValDiv");if(h!==a){dangerou$.setHtml(h,w);showElement(h);p=b.getAttribute("y1u");p!==a&&dangerou$.setHtml(h,h.innerHTML+" "+p);if(c!==a)if(!containsClassName(c,B))c.className=c.className+" underline"}}u=b.getAttribute("x");if(u!==a){l=document.getElementById(d+"_ttDateTimeDiv");if(l!==a){dangerou$.setHtml(l,u);showElement(l)}}y=b.getAttribute("dtl");if(y!==a){m=document.getElementById(d+"_ttDetailsDiv");if(m!==a){dangerou$.setHtml(m,y);showElement(m)}}i=b.getAttribute("msg");if(i!==a){f=document.getElementById(d+A);if(f!==a){dangerou$.setHtml(f,i);showElement(f)}}}g=e.style;g.left=C;g.top=C;g.display="block";v=e.offsetWidth-0;s=e.offsetHeight-0;n=document.getElementById(d);o=t;k=E;if(o+v>n.width){o=t-v;if(!containsClassName(e,D))e.className=e.className+" leftside"}else removeClassNames(e,D);if(k+s+1>n.height)k-=k+s-n.height+1;g.left=o+"px";g.top=k+"px"}}}function htt(b){var a;cgIsMouseIn=false;a=document.getElementById(b+"_tooltipDiv");if(a!==null){a.style.display="none";clearDiv(a)}}function clearDiv(c){var a,b;b=c.getElementsByTagName("div");if(b===null||b.length===0){$afe.jq(c).empty();hideElement(c)}else for(a=0;a<b.length;a=a+1)b[a]!==null&&clearDiv(b[a])}