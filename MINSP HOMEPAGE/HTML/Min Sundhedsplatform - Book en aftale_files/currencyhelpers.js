$$WP=$$WP||{};$$WP.Currency=$$WP.Currency||{};$$WP.Currency.Helpers={currencyToNumber:function WP$Currency$Helpers$currencyToNumber(a){a+="";var b=this._removePatternBasedCurrencyFormatting(a);if(isNaN(b))b=this._removeBasicCurrencyFormatting(a);return+b},numberToCurrency:function WP$Currency$Helpers$formatToCurrency(c,g,f){var b=this,d,e,a;if(isNaN(c)){c=b.currencyToNumber(c);if(isNaN(c))return""}a=b._splitNumberString(c);e=f?a.rawInteger:b._addGroupSeparator(a.integer);d=b._adjustFractionDecimalPlaces(a.fraction,g);return f?b._getRawNumberString(e,d,a.isNegative):b._formatToPattern(e,d,a.isNegative)},getLocaleCurrencySymbol:function WP$Currency$Helpers$getLocaleCurrencySymbol(){return $$WP.CurrentLocale.CurrencySymbol},isSymbolBeforeValue:function WP$Currency$Helpers$isSymbolBeforeValue(){var a=$$WP.CurrentLocale.CurrencyPositivePattern;return a.indexOf("n")>a.indexOf("$")},_addGroupSeparator:function WP$Currency$Helpers$_addGroupSeparator(a){var b=[];if($$WP.CurrentLocale.CurrencyGroupSize&&$$WP.CurrentLocale.CurrencyGroupSize>0){while(a.length>$$WP.CurrentLocale.CurrencyGroupSize){b.unshift(a.substr(-$$WP.CurrentLocale.CurrencyGroupSize));a=a.substr(0,a.length-$$WP.CurrentLocale.CurrencyGroupSize)}b.unshift(a);a=b.join($$WP.CurrentLocale.GroupSeparator)}return a},_adjustFractionDecimalPlaces:function WP$Currency$Helpers$_adjustFractionDecimalPlaces(a,b){if(!b)a="";else if(a.length>$$WP.CurrentLocale.CurrencyDecimalPlaces)a=a.substr(0,$$WP.CurrentLocale.CurrencyDecimalPlaces);else while(a.length<$$WP.CurrentLocale.CurrencyDecimalPlaces)a+="0";return a},_formatToPattern:function WP$Currency$Helpers$_formatToPattern(e,d,c){var a,b=this._getRawNumberString(e,d);if(c){a=$$WP.CurrentLocale.CurrencyNegativePattern.replace(/n/,b);a=a.replace(/\$/,$$WP.CurrentLocale.CurrencySymbol)}else{a=$$WP.CurrentLocale.CurrencyPositivePattern.replace(/n/,b);a=a.replace(/\$/,$$WP.CurrentLocale.CurrencySymbol)}return a},_getRawNumberString:function WP$Currency$Helpers$_getRawNumberString(d,b,c){var a=d;if(b)a=a+$$WP.CurrentLocale.DecimalSeparator+b;return c?"-"+a:a},_getValueFromPattern:function WP$Currency$Helpers$_getValueFromPattern(f,d){var e=d.indexOf("n"),b=d.substr(0,e),c=d.substr(e+1),a=f;if(a.length>0&&b.length>0)if(a.substr(0,b.length)===b)a=a.substr(b.length);else a="";if(a.length>0&&c.length>0)if(a.substr(a.length-c.length)===c)a=a.substr(0,a.length-c.length);else a="";return $.isNumeric(a)?parseFloat(a):NaN},_removePatternBasedCurrencyFormatting:function WP$Currency$Helpers$_removePatternBasedCurrencyFormatting(d){var c=this,a=d;if($$WP.CurrentLocale.CurrencySymbol!=="$")a=c._replaceStringHelper(a,$$WP.CurrentLocale.CurrencySymbol,"$");if($$WP.CurrentLocale.GroupSeparator)a=c._replaceStringHelper(a,$$WP.CurrentLocale.GroupSeparator,"");if($$WP.CurrentLocale.DecimalSeparator!==".")a=c._replaceStringHelper(a,$$WP.CurrentLocale.DecimalSeparator,".");var b=NaN;if($$WP.CurrentLocale.CurrencyNegativePattern){b=c._getValueFromPattern(a,$$WP.CurrentLocale.CurrencyNegativePattern);if(!isNaN(b))b=b*-1}if(isNaN(b)&&$$WP.CurrentLocale.CurrencyPositivePattern)b=c._getValueFromPattern(a,$$WP.CurrentLocale.CurrencyPositivePattern);return b},_removeBasicCurrencyFormatting:function WP$Currency$Helpers$_removeBasicCurrencyFormatting(e){var b=$$WP.CurrentLocale.CurrencySymbol,c=$$WP.CurrentLocale.GroupSeparator,d=new RegExp((b==="$"?"\\":"")+b+"|"+(c==="."?"\\":"")+c,"g"),a=e;a=a.replace(d,"");a=a.replace($$WP.CurrentLocale.DecimalSeparator,".");return $.isNumeric(a)?parseFloat(a):NaN},_replaceStringHelper:function _replaceCharacterHelper(b,a,c){if(!a)return b;var d=new RegExp(a,"g");return b.replace(d,c)},_splitNumberString:function WP$Currency$Helpers$_splitNumberString(f){var b,e,a,d,c;c=f.toString();a="0";e="";d=false;b=c.indexOf(".");if(b>-1){if(b)a=c.substr(0,b);e=c.substr(b+1)}else a=c;if(a.substr(0,1)==="-"){d=true;a=a.substr(1)}return{integer:a,fraction:e,isNegative:d,rawInteger:parseInt(a)}}}