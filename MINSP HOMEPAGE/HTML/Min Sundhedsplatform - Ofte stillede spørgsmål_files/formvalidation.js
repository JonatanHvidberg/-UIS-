/*! Copyright (c) Epic Systems Corporation 2016 - 2019 */
(function WP$FormValidation$definition(){var U=" data-validation-settings=",T=".section.questionsContainer",S='input[type="checkbox"][name="',L="aria-invalid",j="data-invalid",R="[data-invalid]:not([data-invalid-no-error])",K="[data-validation-group]",C="']",J="data-validation-group",z='"]',Q="data-name",I="name",eb="InputTooHigh",db="InputTooLow",e="",o="core.formvalidation",a=null,P=" does not have one of the allowed input types. Please fix, or update FormValidation.js to accomodate the new type.",H="email",y="tel",B="captcha",x="selectable",w="number",m="text",v="time",u="date",l="radio",k="checkbox",q="select",n=":visible",t="[data-invalid]",g="true",O="data-clicked",G="[data-validation-group][data-invalid]",f="undefined",p="data-validation-settings",d=false,c=true,i="input",W="form, [data-validation-group]",r={},N="input[data-validation-settings],select[data-validation-settings],textarea[data-validation-settings],.selectable [data-validation-settings],.mychart-captcha[data-validation-settings]",s=W,D,bb=0,nb=function WP$FormValidation$s_initializeFramework(){var a=$afe.select("body");a.on("focusout input change",N,Y);a.on("validationUpdated",N,kb);a.on("click",".selectable [data-validation-settings]",Y);a.on("click",'form input[type="submit"]',lb);a.on("submit","form",jb);Z(a)},Y=function WP$FormValidation$s_validateInputCallback(a){M(a.currentTarget,a.type==="focusout"||a.type==="change"||a.type===i&&document.activeElement!==a.currentTarget,c)},kb=function WP$FormValidation$s_validationUpdatedCallback(b,a){M(b.currentTarget,d,c,d,a,c)},M=function WP$FormValidation$s_validateInput(m,k,j,l,g,i){var d,b,e,a;d=$afe.jq(m);b=d.safeAttr(p);if(typeof b===f)return;e=new h($.parseJSON(b));a=new A(d,e,k,j,l,i);a.validateInput();if(!g&&(a.valid!==a.initiallyValid||a.$form.is(G))){F(a.$form,c);$$WP.Utilities.UI&&$$WP.Utilities.UI.MatchColumnHeights()}},lb=function WP$FormValidation$s_flagClickedSubmitButton(a){$afe.jq(a.target).safeAttr(O,g)},jb=function WP$FormValidation$s_preventInvalidFormSubmission(b){var c,a,d;c=$afe.jq(b.target);a=c.find('input[type="submit"][data-clicked]');a.removeAttr(O);if(a.length!==0&&!a.get(0).hasAttribute("data-disable-if-invalid"))return;d=c.find(t).filter(n);if(d.length>0){b.preventDefault();b.stopImmediatePropagation()}},V=function WP$FormValidation$s_getInputType(c){var b,a;b=c.get(0).nodeName.toLowerCase();a=c.safeAttr("type");if(b===q)return q;if(b===i&&a===k)return k;if(b===i&&a===l)return l;if(b===i&&a===u)return u;if(b===i&&a===v)return v;if(b==="textarea"||b===i&&(a===m||a==="password"||typeof a===f))return m;if(b===i&&a===w)return w;if(c.closest(".selectable, [data-validation-group], form").hasClass(x))return x;if(c.hasClass("mychart-captcha"))return B;if(b===i&&a===y)return y;if(b===i&&a===H)return H;else $$WP.Debug.logError(this.input+P)},cb=function WP$FormValidation$s_isLiteralInput(b){var a=V(b);return a===q||a===k||a===l||a===y||a===m||a===v||a===u||a===w},rb=function WP$FormValidation$s_putInputCache(c){var b,a;b=c.closest(s);if(D)a=D.get(b[0]);a=a||[];a.push(c[0]);D.set(b[0],a)},ob=function $WPFormValidation$s_getInputsFromCache(d,c){var b,a;if(D)b=D.get(d[0]);if(b){a=$afe.jq(b);if(c)a=a.filter(c)}return a},qb=function $WPFormValidation$s_generateUniqueId(){var a;do{a="parent-form-gen-id_"+bb;bb++}while(!$afe.select("#"+a));return a},E=function WP$FormValidation$ValidationGroup(a){$.type(a)==="object"&&this._parseRawGroup(a)};E.prototype={allRequired:d,disableButtonsWhenEmpty:d,evaluateNestedGroups:d,evaluateParentGroups:d,name:a,_parseRawGroup:function WP$FormValidation$ValidationGroup$_parseRawGroup(b){var a;for(a in b)if(a in E.prototype)this[a]=b[a];else $$WP.Debug.logError("'"+a+"' is not a recognized option in the data-validation-group attribute")},toJSON:function WP$FormValidation$ValidationGroup$toJSON(){var b,a;b={};for(a in this)if(this[a]!==E.prototype[a])b[a]=this[a];return JSON.stringify(b)}};var h=function WP$FormValidation$ValidationSettings(a){$.type(a)==="object"&&this._parseRawSettings(a);this.stringsNamespace=$$WP.Strings.getNamespace(this.stringsNamespace||o)};h.prototype={required:d,nullValue:e,maxLength:a,showCharacterCounter:d,isUSZipCode:d,isEmail:d,isCurrency:d,isNumber:d,precision:0,min:a,max:a,isDate:d,isTime:d,minDate:a,maxDate:a,atLeastOneChecked:d,stringsNamespace:a,_invalidValues:a,_invalidValuesErrorStringName:a,_parseRawSettings:function WP$FormValidation$ValidationSettings$_parseRawSettings(d){var b=this,c;for(c in d)if(c in h.prototype)b[c]=d[c];else $$WP.Debug.logError("'"+c+"' is not a recognized option in the data-validation-settings attribute");b.stringsNamespace!==a&&b.stringsNamespace.toLowerCase().indexOf(o)!==0&&$$WP.Debug.logError("Custom namespaces for form validation messages should be sub-namespaces of Core.FormValidation. '"+b.stringsNamespace+"' is not valid.");if(b.isDate){if(b.minDate!==a)b.minDate=new Date(b.minDate);if(b.maxDate!==a)b.maxDate=new Date(b.maxDate)}},toJSON:function WP$FormValidation$ValidationSettings$toJSON(){var a,b;a={};for(b in this)if(this[b]!==h.prototype[b])a[b]=this[b];if(typeof a.minDate!==f)a.minDate=a.minDate.toISOString().substring(0,10);if(typeof a.maxDate!==f)a.maxDate=a.maxDate.toISOString().substring(0,10);if(a.stringsNamespace.name!==o)a.stringsNamespace=a.stringsNamespace.name;else delete a.stringsNamespace;return JSON.stringify(a)}};h.WholeNumber=new h({isNumber:c,min:0,precision:0});h.NaturalNumber=new h({isNumber:c,min:1,precision:0});h.Integer=new h({isNumber:c,precision:0});h.Required=new h({required:c});h.None=new h;var b=function WP$FormValidation$ValidationProblem(c,e,d){var a=this;a.priority=c;a.stringName=e;a.onlyDisplayIssueOnLeavingInput=d;b.priority2instance[c]=a};b.prototype={priority:a,stringName:a,onlyDisplayIssueOnLeavingInput:c};b.priority2instance={};b.empty=new b(1,"InputRequired");b.tooLong=new b(2,"InputTooLong");b.noneChecked=new b(3,"NoneChecked");b.notEmail=new b(4,"InputNotEmail");b.notCurrency=new b(5,"InputNotCurrency");b.currencyTooLow=new b(6,db);b.currencyTooHigh=new b(7,eb);b.notNumber=new b(8,"InputNotNumber");b.notWholeNumber=new b(9,"InputNotWholeNumber");b.numberTooLow=new b(10,db);b.numberTooHigh=new b(11,eb);b.notFormattedDate=new b(12,"InputNotFormattedDate");b.notDateInvalidMonth=new b(13,"InputNotDateInvalidMonth");b.notDateInvalidDay=new b(14,"InputNotDateInvalidDay");b.notDateInvalidYear=new b(15,"InputNotDateInvalidYear");b.dateTooEarly=new b(16,"InputTooEarly");b.dateTooLate=new b(17,"InputTooLate");b.notTime=new b(18,"InputNotTime");b.invalidCaptcha=new b(19,"InvalidCaptcha");b.notZIP=new b(20,"InputNotZIP");b.invalid=new b(98,"InputInvalid");b.groupInvalid=new b(99,"IncompleteGroup");var A=function WP$FormValidation$InputValidator(b,i,q,o,r,m){var a=this,d,e;a.$input=b;a.input=b.get(0);a.validationSettings=i;a.asLeavingInput=q;a.updateAppearance=o;a.removeErrorsOnly=m;a.checkStructure=r;if(typeof a.validationSettings===f){d=b.safeAttr(p);if(typeof d===f)a.validationSettings=new h;else a.validationSettings=new h($.parseJSON(d))}a.inputName=b.safeAttr(I)||b.safeAttr(Q);a.$form=b.closest(s);a.$messageDisplay=a.$form.find('[data-message-display-for="'+a.inputName+z);a.nodeName=a.input.nodeName.toLowerCase();if(!a._checkProperStructure())return;a.$input.safeAttr("aria-describedby",a.inputName+"_message");e=a.$form.safeAttr(J);if(typeof e===f)a.validationGroup=new E;else{a.validationGroup=new E($.parseJSON(e));a.$groupMessageDisplay=a.$form.find("[data-message-display-for='"+a.validationGroup.name+C)}a.inputValue=b.val();a.inputType=V(a.$input);a.isLiteralInput=cb(a.$input);if(a.inputType===k)a.inputValue=a.input.checked===c&&b.is(n);else if(a.inputType===l)a.inputValue=a.$form.find('input[name="'+a.inputName+'"]:checked').val();else if(a.inputType===B)a.inputValue=b.find("*[id*=g-recaptcha-response]").first().val();if(a.$form.is(K)){a.initiallyValid=!a.$input.is(t)&&!a.$form.is(R);!a.initiallyValid&&b.safeAttr(j,g).safeAttr(L,g)}else a.initiallyValid=!a.$input.is(t);(a.validationSettings.required||a.validationSettings.atLeastOneChecked)&&b.safeAttr("aria-required",g)};A.prototype={$input:a,input:a,$form:a,validationSettings:a,validationGroup:a,asLeavingInput:c,updateAppearance:a,removeErrorsOnly:d,checkStructure:a,$messageDisplay:a,$groupMessageDisplay:a,nodeName:a,inputName:a,inputType:a,inputValue:a,initiallyValid:a,isLiteralInput:a,_domHasProperStructure:a,_highestPriorityProblem:a,valid:a,standardizedInputValue:a,validateInput:function WP$FormValidation$InputValidator$validateInput(){var b=this,p,i,e,r,f,h,o;if(b.checkStructure&&!b._domHasProperStructure)return;b._highestPriorityProblem=a;if(b.inputType===q)b._validateSelectInput();else if(b.inputType===k)b._validateCheckboxInput();else if(b.inputType===l)b._validateRadioInput();else if(b.inputType===m)b._validateTextInput();else if(b.inputType===u)b._validateDateInput();else if(b.inputType===v)b._validateTimeInput();else if(b.inputType===x)b._validateSelectableElement();else if(b.inputType===B)b._validateCaptcha();else if(b.inputType===w)b._validateNumberInput();else if(b.inputType===y)b._validatePhoneInput();else b._validateOtherInput();b.valid=b._highestPriorityProblem===a;if(b.valid)b._findInputsWithSameName().removeAttr(j).removeAttr(L);else b._findInputsWithSameName().safeAttr(j,g).safeAttr(L,g);if(b.$form.is(K)){if(b.validationGroup.allRequired){p=b.$form.find(N).filter(n);e=[];for(f=0;f<p.length;f++){i=$afe.jq(p.get(f));r=i.safeAttr(I)||i.safeAttr(Q);$.inArray(r,e)<0&&e.push(r)}h=e.length;o=0;for(f=0;f<e.length;f++){i=b.$form.find(":input[name='"+e[f]+"'], [data-name='"+e[f]+C);if(b._checkIfHasValue(i))h=h-1;else if(!i.is("[optional-in-group]"))o=o+1}b._checkIfGroupInvalid(o>0&&h!==e.length||h===e.length&&b.validationGroup.disableButtonsWhenEmpty,h===e.length||o===0)}else b._checkIfGroupInvalid(d,c);b.validationGroup.evaluateNestedGroups&&b._evaluateNestedGroups();b.validationGroup.evaluateParentGroups&&b._evaluateParentGroups()}b._updateValidationDisplay()},_validateSelectInput:function WP$FormValidation$InputValidator$_validateSelectInput(){var c=this;if(c.$input.prop("multiple")){var d=c.inputValue===a||$.isArray(c.inputValue)&&c.inputValue.length===1&&c.inputValue[0]===c.validationSettings.nullValue;c._checkIfInvalid(c.validationSettings.required&&d,b.empty);c._checkIfInvalid(c.validationSettings.atLeastOneChecked&&d,b.noneChecked)}else c._checkIfInvalid(c.validationSettings.required&&c.inputValue===c.validationSettings.nullValue,b.empty)},_validateCheckboxInput:function WP$FormValidation$InputValidator$_validateCheckboxInput(){var a=this,c;a._checkIfInvalid(a.validationSettings.required&&!a.inputValue,b.empty);if(a.validationSettings.atLeastOneChecked&&!a.inputValue){c=a.$form.find(S+a.inputName+'"]:checked:visible');a._checkIfInvalid(c.length===0,b.noneChecked)}},_validateNumberInput:function WP$FormValidation$InputValidator$_validateNumberInput(){var d=this,l,f,h,j,g,k,m,n,i;l=d.inputValue.length;f=d.inputValue.trim();d.standardizedInputValue=f;d._checkIfInvalid(d._highestPriorityProblem===a&&d.validationSettings.required&&l===0,b.empty);d._checkIfInvalid(d._highestPriorityProblem===a&&d.validationSettings.maxLength!==a&&l>d.validationSettings.maxLength,b.tooLong);d._checkIfInvalid(d._highestPriorityProblem===a&&d.inputValue!==e&&d.validationSettings.isUSZipCode&&!f.match(A.USZipCodeRegEx),b.notZIP);if(d._highestPriorityProblem===a&&d.validationSettings.isCurrency&&f.length>0){h=$$WP.I18N.parseCurrency(f);j=!isNaN(h);d._checkIfInvalid(d._highestPriorityProblem===a&&!j,b.notCurrency);if(j&&d.asLeavingInput&&d._highestPriorityProblem===a)d.standardizedInputValue=$$WP.I18N.formatNumber(h,$$WP.CurrentLocale.CurrencyDecimalPlaces,c);d._checkIfInvalid(d._highestPriorityProblem===a&&d.validationSettings.min!==a&&h<d.validationSettings.min,b.currencyTooLow);d._checkIfInvalid(d._highestPriorityProblem===a&&d.validationSettings.max!==a&&h>d.validationSettings.max,b.currencyTooHigh)}if(d._highestPriorityProblem===a&&d.validationSettings.isNumber&&f.length>0){g=$$WP.I18N.parseNumber(f);k=!isNaN(g);d._checkIfInvalid(d._highestPriorityProblem===a&&!k,b.notNumber);d._checkIfInvalid(d._highestPriorityProblem===a&&d.validationSettings.precision===0&&g%1!==0,b.notWholeNumber);if(k&&d.asLeavingInput&&d._highestPriorityProblem===a)d.standardizedInputValue=$$WP.I18N.formatNumber(g,d.validationSettings.precision);d._checkIfInvalid(d._highestPriorityProblem===a&&d.validationSettings.min!==a&&g<d.validationSettings.min,b.numberTooLow);d._checkIfInvalid(d._highestPriorityProblem===a&&d.validationSettings.max!==a&&g>d.validationSettings.max,b.numberTooHigh)}if(d._highestPriorityProblem===a&&d.validationSettings._invalidValues&&f.length>0){if(d.validationSettings._invalidValuesErrorStringName)i=new b(98,d.validationSettings._invalidValuesErrorStringName);else i=b.invalid;d._checkIfInvalid(d.validationSettings._invalidValues.indexOf(f)!==-1,i)}},_validateRadioInput:function WP$FormValidation$InputValidator$_validateRadioInput(){this._checkIfInvalid(this.validationSettings.required&&typeof this.inputValue===f,b.empty)},_validateTextInput:function WP$FormValidation$InputValidator$_validateTextInput(){var d=this,j,f,g,i,k,m,l,h;j=d.inputValue.length;f=d.inputValue.trim();d.standardizedInputValue=f;d._checkIfInvalid(d._highestPriorityProblem===a&&d.validationSettings.required&&j===0,b.empty);d._checkIfInvalid(d._highestPriorityProblem===a&&d.validationSettings.maxLength!==a&&j>d.validationSettings.maxLength,b.tooLong);d._checkIfInvalid(d._highestPriorityProblem===a&&d.inputValue!==e&&d.validationSettings.isUSZipCode&&!f.match(A.USZipCodeRegEx),b.notZIP);d._checkIfInvalid(d._highestPriorityProblem===a&&d.inputValue!==e&&d.validationSettings.isEmail&&!f.match(A.emailRegEx),b.notEmail);if(d._highestPriorityProblem===a&&d.validationSettings.isCurrency&&f.length>0){g=$$WP.I18N.parseCurrency(f);i=!isNaN(g);d._checkIfInvalid(d._highestPriorityProblem===a&&!i,b.notCurrency);if(i&&d.asLeavingInput&&d._highestPriorityProblem===a)d.standardizedInputValue=$$WP.I18N.formatNumber(g,$$WP.CurrentLocale.CurrencyDecimalPlaces,c);d._checkIfInvalid(d._highestPriorityProblem===a&&d.validationSettings.min!==a&&g<d.validationSettings.min,b.currencyTooLow);d._checkIfInvalid(d._highestPriorityProblem===a&&d.validationSettings.max!==a&&g>d.validationSettings.max,b.currencyTooHigh)}if(d._highestPriorityProblem===a&&d.validationSettings.isNumber&&f.length>0){k=$$WP.I18N.parseNumber(f);d._checkIfValidNumber(k)}d._highestPriorityProblem===a&&d.validationSettings.isDate&&f.length>=0&&d._checkIfValidDate(f,d.validationSettings.required);if(d._highestPriorityProblem===a&&d.validationSettings.isTime&&f.length>0){l=$$WP.I18N.parseTime(f);d._checkIfValidTime(l)}if(d._highestPriorityProblem===a&&d.validationSettings._invalidValues&&f.length>0){if(d.validationSettings._invalidValuesErrorStringName)h=new b(98,d.validationSettings._invalidValuesErrorStringName);else h=b.invalid;d._checkIfInvalid(d.validationSettings._invalidValues.indexOf(f)!==-1,h)}},_validatePhoneInput:function WP$FormValidation$InputValidator$_validatePhoneInput(){var d=this,f,g,h;h=new RegExp("[-. ()]","g");f=d.inputValue.trim();f=f.replace(h,e);d._checkIfInvalid(d._highestPriorityProblem===a&&(f!==e||d.validationSettings.required===c)&&!$$WPUtil.isValidPhoneNumber(f),b.invalid);if(d._highestPriorityProblem===a&&d.validationSettings._invalidValues&&f.length>0){if(d.validationSettings._invalidValuesErrorStringName)g=new b(98,d.validationSettings._invalidValuesErrorStringName);else g=b.invalid;d._checkIfInvalid(d.validationSettings._invalidValues.indexOf(f)!==-1,g)}},_validateOtherInput:function WP$FormValidation$InputValidator$_validateOtherInput(){var c=this,e,d;e=c.inputValue.trim();if(c._highestPriorityProblem===a&&c.validationSettings._invalidValues&&e.length>0){if(c.validationSettings._invalidValuesErrorStringName)d=new b(98,c.validationSettings._invalidValuesErrorStringName);else d=b.invalid;c._checkIfInvalid(c.validationSettings._invalidValues.indexOf(e)!==-1,d)}},_checkIfValidNumber:function WP$FormValidation$InputValidator$_checkIfValidNumber(d){var c=this,e;e=!isNaN(d);c._checkIfInvalid(c._highestPriorityProblem===a&&!e,b.notNumber);c._checkIfInvalid(c._highestPriorityProblem===a&&c.validationSettings.precision===0&&d%1!==0,b.notWholeNumber);if(e&&c.asLeavingInput&&c._highestPriorityProblem===a)c.standardizedInputValue=$$WP.I18N.formatNumber(d,c.validationSettings.precision);c._checkIfInvalid(c._highestPriorityProblem===a&&c.validationSettings.min!==a&&d<c.validationSettings.min,b.numberTooLow);c._checkIfInvalid(c._highestPriorityProblem===a&&c.validationSettings.max!==a&&d>c.validationSettings.max,b.numberTooHigh)},_validateDateInput:function WP$FormValidation$InputValidator$_validateDateInput(){var c=this,f,d;if(c.input===document.activeElement)return;c._checkIfInvalid(c._highestPriorityProblem===a&&c.validationSettings.required&&c.inputValue===e,b.empty);c._checkIfValidDate(c.inputValue,c.validationSettings.required);f=c.inputValue.trim();if(c._highestPriorityProblem===a&&c.validationSettings._invalidValues&&f.length>0){if(c.validationSettings._invalidValuesErrorStringName)d=new b(98,c.validationSettings._invalidValuesErrorStringName);else d=b.invalid;c._checkIfInvalid(c.validationSettings._invalidValues.indexOf(f)!==-1,d)}},_checkIfValidDate:function WP$FormValidation$InputValidator$_checkIfValidDate(f,h){var c=this,g;if(f===e&&!h)return;var d=new $$WP.I18N.Date(f,c.inputType);if(d.DateObject!==a&&!d.isValid()){c._checkIfInvalid(!d.DayOfMonth.isValid(),b.notDateInvalidDay);c._checkIfInvalid(!d.Month.isValid(),b.notDateInvalidMonth);c._checkIfInvalid(!d.Year.isValid(),b.notDateInvalidYear)}c._checkIfInvalid(d.DateObject===a,b.notFormattedDate);if(d.DateObject!==a){if(c.asLeavingInput&&c.inputType===m)if(d.isSpilledOver()||!d.Year.isValid())c.standardizedInputValue=f;else c.standardizedInputValue=$$WP.I18N.formatPatientGivenDate(d.DateObject);g=d.DateObject.getTime()}else return;c._checkIfInvalid(c._highestPriorityProblem===a&&c.validationSettings.minDate!==a&&g<c.validationSettings.minDate.getTime(),b.dateTooEarly);c._checkIfInvalid(c._highestPriorityProblem===a&&c.validationSettings.maxDate!==a&&g>c.validationSettings.maxDate.getTime()+1,b.dateTooLate)},_validateTimeInput:function WP$FormValidation$InputValidator$_validateTimeInput(){var c=this,d;if(c.input===document.activeElement)return;if(c.inputValue===e){c._checkIfInvalid(c._highestPriorityProblem===a&&c.validationSettings.required,b.empty);return}d=$$WP.I18N.parse24HrTime(c.inputValue);c._checkIfValidTime(d)},_checkIfValidTime:function WP$FormValidation$InputValidator$_checkIfValidTime(d){var c=this;c._checkIfInvalid(d===a,b.notTime);if(d!==a)if(c.asLeavingInput&&c.inputType===m)c.standardizedInputValue=$$WP.I18N.formatPatientGivenTime(d)},_validateSelectableElement:function WP$FormValidation$InputValidator$_validateSelectableElement(){var a=this,c;if(a.validationSettings.atLeastOneChecked&&!a.inputValue){c=a.$form.find("[data-name='"+a.inputName+"'].selected");a._checkIfInvalid(c.length===0,b.noneChecked)}},_validateCaptcha:function WP$FormValidation$InputValidator$_validateCaptcha(){var a=this.inputValue.trim();this._checkIfInvalid(this.validationSettings.required&&a.length===0,b.invalidCaptcha)},_evaluateNestedGroups:function WP$FormValidation$InputValidator$_evaluateNestedGroups(a){var b;if(!a)a=this.$form;b=a.find(G);if(b.length>0){a.safeAttr(j,g);return c}return d},_evaluateParentGroups:function WP$FormValidation$InputValidator$_evaluateParentGroups(){var d=this,h,c,b,a,e,f;h=d.$form;c=h.parents(s);if(c.length!==0)for(b=0;b<c.length;b++){a=$afe.jq(c[b]);e=new E($.parseJSON(a.safeAttr(J)||"{}"));if(e.evaluateNestedGroups)if(!d._evaluateNestedGroups(a)){f=d._findDirectChildInputs(a,t);if(d._hasVisibleElement(f))a.safeAttr(j,g);else a.removeAttr(j)}}},_findDirectChildInputs:function WP$FormValidation$InputValidator$_findDirectChildInputs(b,c){var a;a=ob(b,c);if(!a)if($afe.select(T).length>0)a=b.find("[parent-form='"+b[0].id+C).filter(c);else{a=b.find(c);a=a.filter(function WP$FormValidation$checkIfFormIsValid$invalidInputsFilter(){return $afe.jq(this).closest(s).is(b)})}return a},_hasVisibleElement:function WP$FormValidation$InputValidator$_hasVisibleElement(b){for(var a=0;a<b.length;a++)if($afe.jq(b.get(a)).is(n))return c},_updateValidationDisplay:function WP$FormValidation$InputValidator$_updateValidationDisplay(){var d="data-invalid-reason",c=this,f,g,j,k,i,h;if(!c.updateAppearance)return;f=(c.inputValue||e)+e;i=c.validationSettings.maxLength||0;h=f.length;k={"@MYCHART@CHARACTERLIMIT@":{Value:i,EncodingType:$$WP.Strings.EncodingTypes.None},"@MYCHART@CHARACTERSUSED@":{Value:h,EncodingType:$$WP.Strings.EncodingTypes.None},"@MYCHART@CHARACTERSREMAINING@":{Value:i-h,EncodingType:$$WP.Strings.EncodingTypes.None},"@MYCHART@MINIMUM@":{Value:$$WP.I18N.formatNumber(c.validationSettings.min||0,c.validationSettings.precision),EncodingType:$$WP.Strings.EncodingTypes.None},"@MYCHART@MAXIMUM@":{Value:$$WP.I18N.formatNumber(c.validationSettings.max||0,c.validationSettings.precision),EncodingType:$$WP.Strings.EncodingTypes.None},"@MYCHART@DATEFORMAT@":{Value:c._getDateFormatForDisplay(),EncodingType:$$WP.Strings.EncodingTypes.None},"@MYCHART@MINDATE@":{Value:$$WP.I18N.formatPatientGivenDate(c.validationSettings.minDate),EncodingType:$$WP.Strings.EncodingTypes.None},"@MYCHART@MAXDATE@":{Value:$$WP.I18N.formatPatientGivenDate(c.validationSettings.maxDate),EncodingType:$$WP.Strings.EncodingTypes.None},"@MYCHART@TIMEFORMAT@":{Value:c._getTimeFormatForDisplay(),EncodingType:$$WP.Strings.EncodingTypes.None}};c.validationSettings.stringsNamespace.addMnemonics(k);if(c.validationSettings.isDate&&!c.validationSettings.minDate)c.validationSettings.minDate="1841-01-01";if(c.valid||c._highestPriorityProblem.onlyDisplayIssueOnLeavingInput&&!c.asLeavingInput){c.$input.removeClass("invalid");c.$messageDisplay.empty();c.$messageDisplay.removeAttr(d)}else if(!c.removeErrorsOnly&&!c.valid){c.$input.addClass("invalid");j=Number(c.$messageDisplay.safeAttr(d));var l=c.validationSettings.maxLength&&c.validationSettings.maxLength<h;if(j!==c._highestPriorityProblem&&c.asLeavingInput||l||c.$input.hasClass("togglebutton")){g=c.validationSettings.stringsNamespace.getString(c._highestPriorityProblem.stringName);c.$messageDisplay.empty();c.$messageDisplay.safeAppend($$WP.SimpleTemplates.ValidationMessage(g));c.$messageDisplay.safeAttr(d,c._highestPriorityProblem)}}c.valid&&c.validationSettings.showCharacterCounter&&!c.asLeavingInput&&c.input===document.activeElement&&$$WP.Strings.setDisplayText(c.$messageDisplay.get(0),"CharacterCounter",c.validationSettings.stringsNamespace);if(c.standardizedInputValue!==a&&c.asLeavingInput){c.$input.val(c.standardizedInputValue);if(c.$input.hasClass("slidervalue"))(c.standardizedInputValue===e&&c.standardizedInputValue!==f||c.standardizedInputValue!==e&&$$WP.I18N.parseNumber(c.standardizedInputValue)!==$$WP.I18N.parseNumber(f))&&c.$input.trigger("updateslider")}if(c.$form.is(K)){if(c.$form.is(R)){g=c.validationSettings.stringsNamespace.getString(b.groupInvalid.stringName);c.$groupMessageDisplay.empty();c.$groupMessageDisplay.safeAppend($$WP.SimpleTemplates.ValidationMessage(g));c.$groupMessageDisplay.safeAttr(d,b.groupInvalid)}else c.$groupMessageDisplay.empty();c.valid=c.valid&&!c.$form.is(t)}c.validationSettings.stringsNamespace.clearMnemonics()},_checkIfInvalid:function WP$FormValidation$InputValidator$_checkIfInvalid(c,b){if(c&&(this._highestPriorityProblem===a||this._highestPriorityProblem.priority>b.priority))this._highestPriorityProblem=b},_checkIfGroupInvalid:function WP$FormValidation$InputValidator$_checkIfGroupInvalid(e,d){var a="data-invalid-no-error",c,b=this.$form;if(e){b.safeAttr(j,g);if(d)b.safeAttr(a,g);else b.removeAttr(a)}else{c=this._findDirectChildInputs(b,"input[data-invalid], select[data-invalid], textarea[data-invalid], .selectable [data-invalid]");if(this._hasVisibleElement(c)){b.safeAttr(j,g);d&&b.safeAttr(a,g)}else b.removeAttr(j).removeAttr(a)}},_checkIfHasValue:function WP$FormValidation$InputValidator$_checkIfHasValue(b){var a=V(b.first());if(a===q)return b.val()!==$.parseJSON(b.safeAttr(p)).nullValue;if(a===k||a===l)return b.is(":checked");if(a===m||a===u||a===v||a===w||a===y||a===H)return b.val().length>0;if(a===x)return b.hasClass("selected");if(a===B)return b.find("#g-recaptcha-response").val().length>0;else $$WP.Debug.logError(this.input+P)},_getDateFormatForDisplay:function WP$FormValidation$InputValidator$_getDateFormatForDisplay(){return $$WP.I18N.DateFormat.toLowerCase().replace(/d+/g,this.validationSettings.stringsNamespace.getString("DD")).replace(/m+/g,this.validationSettings.stringsNamespace.getString("MM")).replace(/y+/g,this.validationSettings.stringsNamespace.getString("YYYY"))},_getTimeFormatForDisplay:function WP$FormValidation$InputValidator$_getTimeFormatForDisplay(){return $$WP.I18N.TimeFormat.toLowerCase().replace(/h+/g,this.validationSettings.stringsNamespace.getString("HH")).replace(/m+/g,this.validationSettings.stringsNamespace.getString("MI")).replace(/t+/g,this.validationSettings.stringsNamespace.getString("TT"))},_checkProperStructure:function WP$FormValidation$InputValidator$_checkProperStructure(){var g="maxlength",e='"].required',a=this,b,k,j,i,h;if(!a.checkStructure||a._domHasProperStructure)return c;b=c;if(typeof a.inputName===f){$$WP.Debug.logError(a.input+" needs to specify the 'name' or 'data-name' attribute");b=d}if(a.$messageDisplay.length===0){$$WP.Debug.logError(a.input+" needs to have a message display element specified using the data-message-display-for attribute.");b=d}if(a.$form.length===0){$$WP.Debug.logError(a.input+" needs to be in a <form> or validation-group to make use of the form validation framework.");b=d}if(a.validationSettings.required&&typeof a.inputName!==f&&cb(a.$input)){k=a.$form.find('label[for="'+a.$input.safeAttr("id")+e);if(k.length===0){j=a.$input.closest("fieldset").find("legend.required");if(j.length===0){i=a.$input.closest('[role="radiogroup"]');h=a.$form.find('[id="'+i.safeAttr("aria-labelledby")+e);if(h.length===0){$$WP.Debug.logError(a.input+" is required, but no associated <label> or <legend> element has the 'required' CSS class");b=d}}}}a.validationSettings.isNumber&&!a.input.hasAttribute(g)&&a.$input.safeAttr(g,15);a._domHasProperStructure=b;return b},_findInputsWithSameName:function WP$FormValidation$InputValidator$_findInputsWithSameName(){var a=this,b=$();if(a.inputType===k)b=a.$form.find(S+a.inputName+'"], input[type="checkbox"][data-name="'+a.inputName+z);else if(a.inputType===x)b=a.$form.find('[name="'+a.inputName+'"], [data-name="'+a.inputName+z);else if(a.inputType===q)b=a.$form.find('select[name="'+a.inputName+'"], select[data-name="'+a.inputName+z);else if(a.inputType===l)b=a.$form.find('input[type="radio"][name="'+a.inputName+'"], input[type="radio"][data-name="'+a.inputName+z);return b.add(a.$input)}};A.USZipCodeRegEx=/^(\d{5}(-?\d{4})?)$/;A.emailRegEx=/^[A-Za-z0-9\xC0-\xFFƒŠŒŽšœžŸ._%+-]+@[A-Za-z0-9\xC0-\xFFƒŠŒŽšœžŸ.-]+\.[A-Za-z\xC0-\xFFƒŠŒŽšœžŸ]{2,18}$/;var Z=function WP$FormValidation$initializeDOMSubtree(j,w,u){var h="placeholder",g,b,o,a,t,q,v,r,i=d;D=new Map;g=j.find(N);for(b=0;b<g.length;b++){o=g.get(b);a=$afe.jq(o);q=a.safeAttr(I);r=a.safeAttr("type");if(u){if(q===v){if(r===l||i)continue}else i=d;if(r===k&&a.is(n))i=c}if(o.type===m&&$.parseJSON(a.safeAttr(p)).isDate===c)a.attr(h)!==$$WP.I18N.getDateFormatForDisplay()&&a.safeAttr(h,$$WP.I18N.getDateFormatForDisplay());rb(a);t=typeof a.safeAttr("data-initially-invalid")!==f;M(g.get(b),d,w||t,c,c);v=q}if(g.length>0){D.forEach(function(d,a){if(u)for(b=0;b<d.length;b++){if(a.id===e)a.id=qb();$afe.jq(d[b]).safeAttr("parent-form",a.id)}F($afe.jq(a),c)});$$WP.Utilities.UI&&$$WP.Utilities.UI.MatchColumnHeights()}j.is(s)&&F(j,c);D.clear()},F=function WP$FormValidation$checkIfFormIsValid(h,u){var k="DisabledButtonToolTip",b="title",e="aria-label",j="old-aria-label",i="disabled",l,g,p,t,q,r;if(h.length===0){$$WP.Debug.logError("Inputs need to be in a <form> or validation-group to make use of the form validation framework");return d}if($afe.select(T).length>0)l=h.find("[data-invalid]:not([data-invalid-ignore])[parent-form='"+h.safeAttr("id")+C).filter(n);else{l=h.find("[data-invalid]:not([data-invalid-ignore])").filter(n);l=l.filter(function WP$FormValidation$checkIfFormIsValid$invalidInputsFilter(){return $afe.jq(this).parent().closest(s).is(h)})}p=h.is(G);if(u){g=ab(h);if(g.length===0)$$WP.Debug.logError("Buttons to save or continue the workflow need to be marked with the data-disable-if-invalid property to prevent submission of invalid inputs.");else if(g.filter(function WP$FormValidation$checkIfFormIsValid$buttonsFilter(){return $afe.jq(this).closest(s).is(h)}).length===0)if(!p)t=!F(h.parents(s),d);if(l.length>0||p||t){g.addClass(i);g.prop(i,c);for(var m=0;m<g.length;m++){var a=$afe.jq(g[m]);!a.hasClass(i)&&a.safeAttr(j,a.safeAttr(e));(!a.safeAttr(b)||a.safeAttr(b)===a.safeAttr("value"))&&a.safeAttr(b,$$WP.Strings.get(k,$$WP.Strings.getNamespace(o)));a.safeAttr(e,$$WP.Strings.get(k,$$WP.Strings.getNamespace(o)))}}else{g.removeClass(i);g.prop(i,d);for(var m=0;m<g.length;m++){var a=$afe.jq(g[m]);(!a.safeAttr(b)||a.safeAttr(b)===$$WP.Strings.get(k,$$WP.Strings.getNamespace(o)))&&a.safeAttr(b,a.safeAttr("value"));if(!a.safeAttr(e)||a.safeAttr(e)===$$WP.Strings.get(k,$$WP.Strings.getNamespace(o)))if(a.safeAttr(j)){a.safeAttr(e,a.safeAttr(j));a.removeAttr(j)}else a.safeAttr(e,a.safeAttr(b))}}}q=h.safeAttr(J);r=typeof q!==f&&$.parseJSON(q).evaluateParentGroups;r&&F(h.parents(W),c);return l.length!==0?d:p?d:c},ab=function WP$FormValidation$getButtonsToModify(b){var a;if(b.length===0)return b;a=b.find("[data-disable-if-invalid]");a=a.filter(function WP$FormValidation$checkIfFormIsValid$buttonsFilter(){return $afe.jq(this).closest(s).is(b)});return a.length===0?ab(b.parents(s)):a},pb=function WP$FormValidation$addValidationError(b,g){var e,a;if(b.length===0){$$WP.Debug.logError("Cannot add error without input");return d}e=b.safeAttr(p);if(typeof e===f)a=new h;else a=new h($.parseJSON(e));a._invalidValues=a._invalidValues||[];a._invalidValues.push(b.val());a._invalidValuesErrorStringName=g;b.safeAttr(p,a.toJSON());M(b,c,c)},gb=function WP$FormValidation$Handlebars$generateValidationSettingsAttribute(b){var a;a=U+b.toJSON()+" ";return a},X=function WP$FormValidation$Handlebars$generateMessageDisplayForAttribute(a){return' data-message-display-for="'+a+'"'},mb=function WP$FormValidation$Handlebars$generateMessageDisplay(d,a){var c,b;c=' id="'+d+'_message" ';b=' aria-live="polite" ';if(typeof a!=="string")a=e;if(a.indexOf('class="')===-1)a+=' class="messagedisplay" ';return new Handlebars.SafeString("<div"+c+b+X(d)+a+"></div>")},hb=function WP$FormValidation$Handlebars$generateDisableIfInvalidAttribute(){return" data-disable-if-invalid "},ib=function WP$FormValidation$Handlebars$generateValidationGroupAttribute(a){return" data-validation-group="+a.toJSON()},fb=function WP$FormValidation$Handlebars$generateValidationRequiredAttribute(){return U+h.Required.toJSON()},sb=function WP$FormValidation$resetReCaptcha(){M($afe.select(".mychart-captcha"),d,c,d)};r.initializeDOMSubtree=Z;r.checkIfFormIsValid=F;r.addValidationError=pb;r.ValidationSettings=h;r.ValidationProblem=b;r.ValidationGroup=E;r.InputValidator=A;r.Handlebars={validationSettingsAttribute:gb,messageDisplay:mb,messageDisplayForAttribute:X,disableIfInvalidAttribute:hb,validationGroupAttribute:ib,validationRequiredAttribute:fb};r.ResetReCaptcha=sb;$$WP.FormValidation=r;$afe.onDocumentReady(nb)})()