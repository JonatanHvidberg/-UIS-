/*! Copyright Epic Systems Corporation 2017 */
(function WP$EVC$definition(){var d="input, select, textarea",a=".button",b=null,c=function WP$EVC(d,c){var b="click",a=this;a.WP$Controllers$Controller();!$.isFunction(c)&&$$WP.Debug.logError("EditableViewController subclass did not provide the Handlebars template needed to render this view.");a.$root=d;a._template=c;a.loadData();a.proxify("onEditClicked","onSaveClicked","onCancelClicked");a.$root.on(b,".editButton",a.onEditClicked);a.$root.on(b,".saveButton",a.onSaveClicked);a.$root.on(b,".cancelButton",a.onCancelClicked)},f={$root:b,ViewModel:b,_template:b,focusAfterRender:true,onEditClicked:function WP$EVC$OEC(b){this.$root.find(a).remove();this.render(true);b.preventDefault()},onSaveClicked:function WP$EVC$OSC(b){this.$root.find(a).remove();this.$root.find(d).prop("disabled",true);this.saveData();b.preventDefault()},onCancelClicked:function WP$EVC$OCC(b){this.$root.find(a).remove();this.render(false);b.preventDefault()},loadData:function WP$EVC$LD(){$$WP.Debug.logError("EditableViewController subclass did not override the virtual loadData method.")},saveData:function WP$EVC$SD(){$$WP.Debug.logError("EditableViewController subclass did not override the virtual saveData method.")},render:function WP$EVC$R(b){var a=this;a.$root.empty();a.ViewModel=a.ViewModel||{};a.ViewModel.DisplayEditable=b;a.$root.safeAppend($afe.renderTemplate(a._template,a.ViewModel));a.afterRender()},afterRender:function WP$EVC$AR(){$$WP.Utilities.UI.MatchColumnHeights();$afe.select(":focus").length===0&&this.focusAfterRender&&this.$root.find(d).filter(":visible:enabled").first().focus()},dispose:function WP$EVC$D(){this.$root.empty()}},e=function WP$EVC$GVIE(a){return a.length===1?a.val():b};c.prototype=f;c.getValIfExists=e;$$WPUtil.guaranteeExistence($$WP,"Controllers");$$WP.Controllers.EditableViewController=c;c.extend($$WP.Controllers.Controller,"WP$Controllers$EditableViewController")})()