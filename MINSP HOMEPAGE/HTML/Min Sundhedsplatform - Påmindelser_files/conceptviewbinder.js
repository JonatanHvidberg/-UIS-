/*! Copyright (c) Epic Systems Corporation 2017-2019 */
(function ClassDefinition(){var f=".reminderdropdown",a="checked",d="IsAppointmentReminderOffSetDisabled",e="IsSmsOff",b="Medias",c="keypress",g=function ConceptViewBinder(){var a=["click","change",c];this.WP$Common$ViewBinder(a,[b,e,d])},h={_onPropertyChanged:function _onPropertyChanged(j,m){var t="disabled",s=".disabletext",r="MediasSubscription",c="hidden",k=".additionalinfo",q="MediaDescription",n="@MYCHART@MEDIA@",p="aria-checked",o="@MYCHART@ROWTITLE@",l,i,g,u,h;l=this.getBoundElements(j);h=$$WP.Strings.getNamespace("Preferences");if(m.propertyName===b){i=m.index;g=l.find("div[data-mediacategoryvalue="+i+"] .mediabutton");h.addMnemonic(o,j.Title,$$WP.Strings.EncodingTypes.None);if(m.to===$$WP.Preferences.Communications.Concept.preferenceType.Approved){g.addClass(a).safeAttr(p,"true");h.addMnemonic(n,h.getKeyedString(q,i));g.safeAttr("title",h.getString("MediaOptOutDescription"));l.find(k).removeClass(c);j.ParentGroup.setProperty(r,j.ParentGroup.MediasSubscription[i].NumberOfSubscription+1,i)}else if(m.to===$$WP.Preferences.Communications.Concept.preferenceType.NotApproved){g.removeClass(a).safeAttr(p,"false");h.addMnemonic(n,h.getKeyedString(q,i));g.safeAttr("title",h.getString("MediaOptInDescription"));!j.isSubscribed()&&l.find(k).addClass(c);j.ParentGroup.setProperty(r,j.ParentGroup.MediasSubscription[i].NumberOfSubscription-1,i)}j.ParentGroup.Controller.showHideSaveButton(true);h.removeMnemonic(n);h.removeMnemonic(o)}else if(m.propertyName===e){g=l.find("div[data-mediacategoryvalue=100] .mediabutton");i=$$WP.Preferences.Communications.Controller.MediaEnum.Text;if(g.length===0)return;if(m.to){g.addClass(c);g.siblings(s).removeClass(c);if(j.isSubscribed())l.find(k).removeClass(c);else l.find(k).addClass(c)}else{g.removeClass(c);g.siblings(s).addClass(c)}}else if(m.propertyName===d){u=l.find(f);if(m.to)u.prop(t,true);else u.prop(t,false)}},_onSyncModelToDOM:function _onSyncModelToDOM(a){this.WP$Common$ExpandableListViewBinder$_onSyncModelToDOM(a)},_onDomEvent:function _onDomEvent(e,k,h){var g=$afe.jq(h.target),i,j;if(e!==null){if(h.type===c&&h.keyCode!==13&&h.keyCode!==32)return;if(h.type===c||h.type==="click"){if(g.is(".tickleritem div.mediabutton")){j=g.parent();i=j.safeAttr("data-mediacategoryvalue");if(i===$$WP.Preferences.Communications.Controller.MediaEnum.Text&&e.IsSmsOff){h.preventDefault();return}if(e.Medias[i]===$$WP.Preferences.Communications.Concept.preferenceType.LockedOn){h.preventDefault();return}else if(e.Medias[i]===$$WP.Preferences.Communications.Concept.preferenceType.Approved)e.setProperty(b,$$WP.Preferences.Communications.Concept.preferenceType.NotApproved,i);else e.Medias[i]===$$WP.Preferences.Communications.Concept.preferenceType.NotApproved&&e.setProperty(b,$$WP.Preferences.Communications.Concept.preferenceType.Approved,i);h.preventDefault()}else if(g.is("#additionalreminder"))if(e.isSubscribed){e.OptInAppointmentReminder=g.prop(a);e.setProperty(d,!g.prop(a))}}else if(h.type==="change"){if(g.is(f))e.AppointmentOffSet=g.val();else if(g.is("#appointmentupdate input"))e.AppointmentUpdateValues[g.safeAttr("id")]=g.prop(a);else if(g.is("#additionalWaitList input"))e.AutoAddWaitListFlag=g.prop(a);e.ParentGroup.Controller.showHideSaveButton(true)}}}};g.prototype=h;$$WP.Utilities.guaranteeExistence($$WP,"Preferences.Communications");$$WP.Preferences.Communications.ConceptViewBinder=g;g.extend($$WP.Common.ViewBinder,"WP$Preferences$Communications$ConceptViewBinder")})();$$WP.Debug.UnitTest=$$WP.Debug.UnitTest||{};$$WP.Debug.UnitTest.tests=$$WP.Debug.UnitTest.tests||[];$$WP.Debug.UnitTest.tests.push(function UnitTests$ConceptGroupViewBinder(){var a;a=$$WP.Debug.UnitTest.assert})