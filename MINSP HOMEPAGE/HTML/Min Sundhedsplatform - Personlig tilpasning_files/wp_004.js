/*! Copyright (c) Epic Systems Corporation 2012 - 2018 */
var WP=WP||{};if(typeof WP.FdiUtils==="undefined")WP.FdiUtils={};WP.FdiUtils.handleFDILink=function WP$FdiUtils$handleFDILink(i){var e,d,c,a,g,f,h,b,j;b="";j="";e=$afe.jq(i.target);i.preventDefault();d=e.closest("[data-fdi-context]");if(d.length>0){c=d.safeAttr("data-fdi-context");if(c!==""){a=$.parseJSON(c);g=a.fdi;f=a.csn;h=a.ord;delete a.fdi;delete a.csn;delete a.ord;b=WP.FdiUtils.buildFDILinkParamString(g,f,h,a)}}getCSRFTokenAsQS(function(a){$.ajax({url:makeLink("Extensibility/Redirection/FdiData"+b),type:"POST",dataType:"json",data:a,success:function(a){WP.FdiUtils.fdiJSONSuccess(a,b)}})})};WP.FdiUtils.fdiJSONSuccess=function WP$FdiUtils$fdiJSONSuccess(c,d){var a,b;a=c.url;b=c.launchmode;switch(b){case 1:window.location.href=a;break;case 0:case 2:openWindow(a,"","",null,true);break;case 3:openWindow(a,"","",null,true,false,true);break;case 4:window.location.href=makeLink("Extensibility/Redirection/Content"+d)}};WP.FdiUtils.buildFDILinkParamString=function WP$FdiUtils$buildFDILinkParamString(d,c,e,b){var a;a="";if(d)a=$$WPUtil.addUrlParameter(a,"fdi",encodeURIComponent(d));else return"";if(c)a=$$WPUtil.addUrlParameter(a,"csn",encodeURIComponent(c));if(e)a=$$WPUtil.addUrlParameter(a,"ord",encodeURIComponent(e));if(!$.isEmptyObject(b))a=$$WPUtil.addUrlParameter(a,"extra",encodeURIComponent(JSON.stringify(b)));return a}