$$WP.Preferences=$$WP.Preferences||{};$$WP.Preferences.NotificationsReviewAlertComponent=function WPPop$NotificationsReviewAlertPopup(a){this.Components$TemplateComponent(a);this.addEventListener("click",this._clickHandler)};$$WP.Preferences.NotificationsReviewAlertComponent.prototype={Class:"",ToolbarButtons:null,TitleText:$$WP.Strings.get("Title","notifications.notificationalert"),template:$$WP.Templates.Preferences.notificationsettings,Data:{},_validationHandler:function(c,d){var a="showError",b=$("div.notificationreview div[data-error-fieldset='"+c+"']");if(d)b.addClass(a);else b.removeClass(a)},_clickHandler:function(c){var a=false,b=this;if(c){if(!c.dataId)return;var d=a;switch(c.dataId){case"redirect":d=true;case"save":c.preventDefault();b._validationHandler("notificationReviewAlertEmail",a);b._validationHandler("notificationReviewAlertPhone",a);b._validationHandler("notificationReviewAlertError",a);b._save(d)}}},_save:function(a){$.ajax({type:"POST",url:makeLink("Preferences/preferencesreviewalert/save"),data:$("input",this.$container).serialize(),context:this}).done(function(c){var b=true,d=this;if(c){!c.IsEmailValid&&d._validationHandler("notificationReviewAlertEmail",b);!c.IsPhoneValid&&d._validationHandler("notificationReviewAlertPhone",b);if(c.IsEmailValid&&c.IsPhoneValid)if(c.Success===b)if(a)$$WP.Utilities.TryRedirect(makeLink("inside.asp?mode=patprefs"));else d.dispose(b);else d._validationHandler("notificationReviewAlertError",b)}})}};$$WP.Preferences.NotificationsReviewAlertComponent.extend("Components.TemplateComponent")