$$WPUtil.guaranteeExistence($$WP,"Clinical.Common");$$WP.Clinical.Common.GetClickedObject=function(n,t,i){var u,f,r,e,o;if(f=t.dataId,!f||f==="notesbox")return null;f!=="additem"&&(e=t.$target.closest(".card"),o=$afe.jq(e),u=parseInt(o.safeAttr("data-index"),10));switch(f){case"additem":r={};r.action=1;break;case"edititem":r=n.currentList[u];r.action=2;break;case"deleteitem":r=n.currentList[u];r.action=3;break;case"undoadditem":r=n.pendingAddList[u];r.action=4;break;case"undodeleteitem":r=n.pendingDeleteList[u];r.action=5;break;case"undoedititem":r=n.pendingEditList[u];r.action=6;break;case"editadditem":r=n.pendingAddList[u];r.action=7;break;case"editedititem":r=n.pendingEditList[u];r.action=8}return $$WP.Clinical.Common.LookupStrings(r,f,i),r.index=u,r};$$WP.Clinical.Common.LookupStrings=function(n,t,i){var u="@MYCHART@ITEMNAME@",r;$$WP.Strings.setDefaultNamespace(i);n.LocalItem?r=n.LocalItem.Name:n.ExternalItems&&n.ExternalItems.length>0?n.ExternalItems[0]&&(r=n.ExternalItems[0].Name):r=n.Name;$$WP.Strings.addMnemonic(u,r,!1,null);n.PreText=$$WP.Strings.getForTemplate(t+"_pre_text");n.PostText=$$WP.Strings.getForTemplate(t+"_post_text");n.AcceptButtonText=$$WP.Strings.getForTemplate(t+"_accept_label");n.CancelButtonText=$$WP.Strings.getForTemplate(t+"_cancel_label");n.DateLabel=$$WP.Strings.getForTemplate("datelabel");n.CommentsLabel=$$WP.Strings.getForTemplate("commentslabel");n.DeleteCommentsLabel=$$WP.Strings.getForTemplate("deletecommentslabel");n.title=$$WP.Strings.getForTemplate(t+"_title");$$WP.Strings.removeMnemonic(u);$$WP.Strings.clearDefaultNamespace()};$$WP.Clinical.Common.handleAJAXResponse=function(n,t,i){if(n.success===!0)$afe.select(".component[data-component-id='"+i.ComponentNumber+"']").parents(".haspersonalnotes").addClass("hidepersonalnotes").removeClass("componentsloaded"),$afe.select(".personalnotessection.component").trigger("resize"),i.PopupContainer.dispose(),i.mode==="echeckin"&&$afe.select(".vb_navigation").removeClass("show"),i.mode==="medswidget"&&location.reload(),i.load(),i.parent&&typeof i.parent[0]._onComponentDataChanged=="function"&&i.parent[0]._onComponentDataChanged();else{var r,u;$$WP.Strings.setDefaultNamespace(t);r={button:$$WP.Strings.getForTemplate("errorclose"),title:$$WP.Strings.getForTemplate("errortitle"),content:$$WP.Strings.getForTemplate("errorcontent")};$$WP.Strings.clearDefaultNamespace();u=[new $$WPComp.ComplexObjects.Button(r.button,null,"previousstep","continue")];new $$WPUtil.quickMessageBox(r.content,r.title,u);i.PopupContainer.$content.find(".button").removeClass("disabled")}};$$WP.Clinical.Common.UpdateStrings=function(n,t,i,r,u,f){var v="@MYCHART@CONDITIONTITLE@",y="@MYCHART@COMMENTS@",p="@MYCHART@STARTDATE@",s=null,w="@MYCHART@ITEMNAME@",h=!1;if($$WP.Strings.setDefaultNamespace(t),n.Text==="ErrorCode"&&(n.ErrorMessage=$$WP.Strings.getForTemplate(n.Value)),n.DataList){n.RootInfo={};switch(i){case"evisit":case"echeckin":n.RootInfo.AbleToSubmitUpdates=n.HasUpdateSecurity;break;default:n.RootInfo.AbleToSubmitUpdates=n.HasUpdateSecurity&&n.HasStandAloneUpdateSecurity}if(n.RootInfo.AbleToSubmitUpdates&&(n.addbuttonlabel=$$WP.Strings.getForTemplate("addbuttonlabel")),n.Pretext=$$WP.Strings.getForTemplate(n.PreTextStringKey),n.NonEpicWarningText=$$WP.Strings.getForTemplate("dxr_pretext_info"),n.DataList.length>0){n.RootInfo.deletelabel=$$WP.Strings.getForTemplate("deletelabel");n.RootInfo.editlabel=$$WP.Strings.getForTemplate("editlabel");n.RootInfo.restorelabel=$$WP.Strings.getForTemplate("restorelabel");n.addsectionheader=$$WP.Strings.getForTemplate("addsectionheader");n.deletesectionheader=$$WP.Strings.getForTemplate("deletesectionheader");n.editsectionheader=$$WP.Strings.getForTemplate("editsectionheader");r===1&&(n.RootInfo.reactionslabel=$$WP.Strings.getForTemplate("reactionslabel"));r===2&&(n.quantitylabel=$$WP.Strings.getForTemplate("quantitylabel"),n.lastfilllabel=$$WP.Strings.getForTemplate("lastdispensedatelabel"),n.nextfilllabel=$$WP.Strings.getForTemplate("nextdispensedatelabel"),n.prescriptionnumberlabel=$$WP.Strings.getForTemplate("prescriptionnumberlabel"),n.requestrefilllabel=$$WP.Strings.getForTemplate("requestrefill"),n.nottakinglabel=$$WP.Strings.getForTemplate("nottaking"),n.editlabel=$$WP.Strings.getForTemplate("edit"));n.currentList=[];n.pendingAddList=[];n.pendingEditList=[];n.pendingDeleteList=[];for(var c=0,b=0,k=0,d=0,o,e,l,a=0;a<n.DataList.length;a++){if(o=n.DataList[a],o.LocalItem?(o.DisplayObject=o.LocalItem,e=o.LocalItem,e.ContentLinkURL=o.ContentLinkURL,e.Target=o.Target,e.ShowExternalItems=h):o.ExternalItems&&o.ExternalItems.length>0?(o.DisplayObject=o.ExternalItems[0],e=o.ExternalItems[0],e.ShowExternalItems=!0,e.ExternalOrgs=o.ExternalOrgs,e.ContentLinkURL=o.ContentLinkURL,e.Target=o.Target):(e=o,e.ShowExternalItems=f),l="",e.UpdateInformation){e.UpdateInformation.Status&&(l=e.UpdateInformation.Status.Value);switch(l){case"1":e.DataIndex=b;b++;n.pendingAddList.push(o);break;case"2":e.DataIndex=k;k++;n.pendingEditList.push(o);break;case"3":e.DataIndex=d;d++;n.pendingDeleteList.push(o);break;default:e.DataIndex=c;c++;n.currentList.push(o)}}else e.DataIndex=c,c++,n.currentList.push(o);o.ContentLinkURL&&(e.KnowMoreLabel=$$WP.Strings.getForTemplate("learnmore"),$$WP.Strings.addMnemonic(w,e.Name,h,s),e.AboutHoverText=$$WP.Strings.getForTemplate("abouthover"),$$WP.Strings.removeMnemonic(w));e.FormattedDateNoted!==s&&($$WP.Strings.addMnemonic(p,e.FormattedDateNoted,h,s),e.DateAdded=e.UpdateInformation&&e.UpdateInformation.Status&&e.UpdateInformation.Status.Value===1?$$WP.Strings.getForTemplate("startdate"):$$WP.Strings.getForTemplate("dateadded"),$$WP.Strings.removeMnemonic(p));e.UpdateInformation&&e.UpdateInformation.Comments&&e.UpdateInformation.Comments!==""&&($$WP.Strings.addMnemonic(y,e.UpdateInformation.Comments),e.formattedcomments=$$WP.Strings.getForTemplate("comments"),$$WP.Strings.removeMnemonic(y));switch(r){case 1:$$WP.Clinical.Allergies.Components.Allergies.ParseAllergy(e);break;case 2:$$WP.Clinical.Medications.ParseMed(o,l,n.ShowProviderInMedsDetails,n.HasProviderDetailsSecurity)}}}n.currentList&&n.currentList.length!==0||(u&&u!==""?($$WP.Strings.addMnemonic(v,u,h,s),n.NoDataText=$$WP.Strings.getForTemplate("nodata_condition"),$$WP.Strings.removeMnemonic(v)):n.NoDataText=$$WP.Strings.getForTemplate("nodata"))}return $$WP.Strings.clearDefaultNamespace(),n},function(){var f="<\/a>",h='<span class="cardline subtle">',e="<\/div>",o="<\/span>",r="function",t="if",i="",u="ifEquals",n=null,c=Handlebars.template,s=$$WP.Templates=$$WP.Templates||{};s=s.Clinical=s.Clinical||{};s.ClinicalDataCard=c({compiler:[7,">= 4.0.0"],main:function(f,s,h,c,l){var a,v;return'<div class="clinicalinfo">'+((a=(h.ifEquals||s&&s.ifEquals||h.helperMissing).call(s!=n?s:f.nullContext||{},s!=n?s.ShowExternalItems:s,!0,{name:u,hash:{},fn:f.program(1,l,0),inverse:f.noop,data:l}))!=n?a:i)+((a=h[t].call(s!=n?s:f.nullContext||{},s!=n?s.IconClassName:s,{name:t,hash:{},fn:f.program(4,l,0),inverse:f.program(6,l,0),data:l}))!=n?a:i)+'<span class="cardline name header">'+f.escapeExpression((v=(v=h.Name||(s!=n?s.Name:s))!=n?v:h.helperMissing,typeof v===r?v.call(s!=n?s:f.nullContext||{},{name:"Name",hash:{},data:l}):v))+o+((a=h[t].call(s!=n?s:f.nullContext||{},s!=n?s.CommonlyKnownAsSignature:s,{name:t,hash:{},fn:f.program(8,l,0),inverse:f.noop,data:l}))!=n?a:i)+((a=h[t].call(s!=n?s:f.nullContext||{},s!=n?s.ReactionsDisplay:s,{name:t,hash:{},fn:f.program(11,l,0),inverse:f.noop,data:l}))!=n?a:i)+((a=h[t].call(s!=n?s:f.nullContext||{},s!=n?s.datedisplay:s,{name:t,hash:{},fn:f.program(13,l,0),inverse:f.noop,data:l}))!=n?a:i)+((a=h[t].call(s!=n?s:f.nullContext||{},s!=n?s.DateAdded:s,{name:t,hash:{},fn:f.program(15,l,0),inverse:f.noop,data:l}))!=n?a:i)+((a=h[t].call(s!=n?s:f.nullContext||{},s!=n?s.formattedcomments:s,{name:t,hash:{},fn:f.program(17,l,0),inverse:f.noop,data:l}))!=n?a:i)+((a=h[t].call(s!=n?s:f.nullContext||{},s!=n?s.ContentLinkURL:s,{name:t,hash:{},fn:f.program(19,l,0),inverse:f.noop,data:l}))!=n?a:i)+e+((a=(h.ifEquals||s&&s.ifEquals||h.helperMissing).call(s!=n?s:f.nullContext||{},(a=s!=n?s.AdditionalData:s)!=n?a.AbleToSubmitUpdates:a,!0,{name:u,hash:{},fn:f.program(22,l,0),inverse:f.noop,data:l}))!=n?a:i)},"1":function(r,u,f,e,o){var s;return(s=f[t].call(u!=n?u:r.nullContext||{},u!=n?u.ExternalOrgs:u,{name:t,hash:{},fn:r.program(2,o,0),inverse:r.noop,data:o}))!=n?s:i},"2":function(t,r,u,f,o){var s;return'<div class="externalcontainer">'+((s=(u.addTemplate||r&&r.addTemplate||u.helperMissing).call(r!=n?r:t.nullContext||{},"Core.externalorganizationicon",r!=n?r.ExternalOrgs:r,{name:"addTemplate",hash:{},data:o}))!=n?s:i)+e},"4":function(t,i,u,f,e){var o;return'<span class="clinicalicon '+t.escapeExpression((o=(o=u.IconClassName||(i!=n?i.IconClassName:i))!=n?o:u.helperMissing,typeof o===r?o.call(i!=n?i:t.nullContext||{},{name:"IconClassName",hash:{},data:e}):o))+'"><\/span>'},"6":function(){return'<span class="noicon"><\/span>'},"8":function(t,r,u,f,o){var s;return'<div class="cardline subtle">'+((s=u.each.call(r!=n?r:t.nullContext||{},r!=n?r.CommonlyKnownAsSignature:r,{name:"each",hash:{},fn:t.program(9,o,0),inverse:t.noop,data:o}))!=n?s:i)+e},"9":function(n,t){return n.escapeExpression(n.lambda(t,t))},"11":function(t,i,u,f,e){var s,o;return'<div class="cardline"><span class="clearlabel">'+t.escapeExpression(t.lambda((s=i!=n?i.AdditionalData:i)!=n?s.reactionslabel:s,i))+"<\/span><span>"+t.escapeExpression((o=(o=u.ReactionsDisplay||(i!=n?i.ReactionsDisplay:i))!=n?o:u.helperMissing,typeof o===r?o.call(i!=n?i:t.nullContext||{},{name:"ReactionsDisplay",hash:{},data:e}):o))+"<\/span><\/div>"},"13":function(t,i,u,f,e){var s;return'<span class="cardline">'+t.escapeExpression((s=(s=u.datedisplay||(i!=n?i.datedisplay:i))!=n?s:u.helperMissing,typeof s===r?s.call(i!=n?i:t.nullContext||{},{name:"datedisplay",hash:{},data:e}):s))+o},"15":function(t,i,u,f,e){var s;return h+t.escapeExpression((s=(s=u.DateAdded||(i!=n?i.DateAdded:i))!=n?s:u.helperMissing,typeof s===r?s.call(i!=n?i:t.nullContext||{},{name:"DateAdded",hash:{},data:e}):s))+o},"17":function(t,i,u,f,e){var s;return h+t.escapeExpression((s=(s=u.formattedcomments||(i!=n?i.formattedcomments:i))!=n?s:u.helperMissing,typeof s===r?s.call(i!=n?i:t.nullContext||{},{name:"formattedcomments",hash:{},data:e}):s))+o},"19":function(t,f,e,o,s){var c,h;return'<span class="cardline contentlink noprint"><a href="'+t.escapeExpression((h=(h=e.ContentLinkURL||(f!=n?f.ContentLinkURL:f))!=n?h:e.helperMissing,typeof h===r?h.call(f!=n?f:t.nullContext||{},{name:"ContentLinkURL",hash:{},data:s}):h))+'" target="'+t.escapeExpression((h=(h=e.Target||(f!=n?f.Target:f))!=n?h:e.helperMissing,typeof h===r?h.call(f!=n?f:t.nullContext||{},{name:"Target",hash:{},data:s}):h))+'" title="'+t.escapeExpression((h=(h=e.AboutHoverText||(f!=n?f.AboutHoverText:f))!=n?h:e.helperMissing,typeof h===r?h.call(f!=n?f:t.nullContext||{},{name:"AboutHoverText",hash:{},data:s}):h))+'" '+((c=(e.ifEquals||f&&f.ifEquals||e.helperMissing).call(f!=n?f:t.nullContext||{},f!=n?f.Target:f,"_blank",{name:u,hash:{},fn:t.program(20,s,0),inverse:t.noop,data:s}))!=n?c:i)+'><img src="'+t.escapeExpression((e.makeStaticLink||f&&f.makeStaticLink||e.helperMissing).call(f!=n?f:t.nullContext||{},"images/info.png",{name:"makeStaticLink",hash:{},data:s}))+'" class="contentimg" alt="" />'+t.escapeExpression((h=(h=e.KnowMoreLabel||(f!=n?f.KnowMoreLabel:f))!=n?h:e.helperMissing,typeof h===r?h.call(f!=n?f:t.nullContext||{},{name:"KnowMoreLabel",hash:{},data:s}):h))+"<\/a><\/span>"},"20":function(t,i,r,u,f){return' aria-label="'+t.escapeExpression((r.getStringResource||i&&i.getStringResource||r.helperMissing).call(i!=n?i:t.nullContext||{},"NewWindowNotification",{name:"getStringResource",hash:{},data:f}))+'" '},"22":function(t,r,f,e,o){var s;return(s=(f.ifEquals||r&&r.ifEquals||f.helperMissing).call(r!=n?r:t.nullContext||{},r!=n?r.ShowExternalItems:r,!1,{name:u,hash:{},fn:t.program(23,o,0),inverse:t.noop,data:o}))!=n?s:i},"23":function(r,u,f,o,s){var h;return'<!-- Don\'t allow for external-only items --><div class="buttonList right noprint">'+((h=f[t].call(u!=n?u:r.nullContext||{},(h=u!=n?u.UpdateInformation:u)!=n?h.Status:h,{name:t,hash:{},fn:r.program(24,s,0),inverse:r.program(31,s,0),data:s}))!=n?h:i)+e},"24":function(t,r,f,e,o){var s;return((s=(f.ifEquals||r&&r.ifEquals||f.helperMissing).call(r!=n?r:t.nullContext||{},(s=(s=r!=n?r.UpdateInformation:r)!=n?s.Status:s)!=n?s.Value:s,"1",{name:u,hash:{},fn:t.program(25,o,0),inverse:t.noop,data:o}))!=n?s:i)+((s=(f.ifEquals||r&&r.ifEquals||f.helperMissing).call(r!=n?r:t.nullContext||{},(s=(s=r!=n?r.UpdateInformation:r)!=n?s.Status:s)!=n?s.Value:s,"2",{name:u,hash:{},fn:t.program(27,o,0),inverse:t.noop,data:o}))!=n?s:i)+((s=(f.ifEquals||r&&r.ifEquals||f.helperMissing).call(r!=n?r:t.nullContext||{},(s=(s=r!=n?r.UpdateInformation:r)!=n?s.Status:s)!=n?s.Value:s,"3",{name:u,hash:{},fn:t.program(29,o,0),inverse:t.noop,data:o}))!=n?s:i)},"25":function(t,i){var r;return'<!-- <a class="button inlineedit multi" href="#" data-id="editadditem">'+t.escapeExpression(t.lambda((r=i!=n?i.AdditionalData:i)!=n?r.editlabel:r,i))+'<\/a> --><a class="button inlinedelete multi" href="#" data-id="undoadditem">'+t.escapeExpression(t.lambda((r=i!=n?i.AdditionalData:i)!=n?r.deletelabel:r,i))+f},"27":function(t,i){var r;return'<!-- <a class="button inlineedit multi" href="#" data-id="editedititem">'+t.escapeExpression(t.lambda((r=i!=n?i.AdditionalData:i)!=n?r.editlabel:r,i))+'<\/a> --><a class="button inlinedelete multi" href="#" data-id="undoedititem">'+t.escapeExpression(t.lambda((r=i!=n?i.AdditionalData:i)!=n?r.deletelabel:r,i))+f},"29":function(t,i){var r;return'<a class="button inlinedelete multi" href="#" data-id="undodeleteitem">'+t.escapeExpression(t.lambda((r=i!=n?i.AdditionalData:i)!=n?r.restorelabel:r,i))+f},"31":function(t,i){var r;return'<!-- <a class="button inlineedit multi" href="#" data-id="edititem">'+t.escapeExpression(t.lambda((r=i!=n?i.AdditionalData:i)!=n?r.editlabel:r,i))+'<\/a>  --><a class="button inlinedelete multi" href="#" data-id="deleteitem">'+t.escapeExpression(t.lambda((r=i!=n?i.AdditionalData:i)!=n?r.deletelabel:r,i))+f},useData:!0})}(),function(){var f="AcceptButtonText",e='" value="',a="selectedName",v='" record-name="',y="selectedId",o=' index="',s="disableIfInvalidAttribute",u='">',c="index",h="ifEquals",t="function",i="",n=null,r="if",p=Handlebars.template,l=$$WP.Templates=$$WP.Templates||{};l=l.Clinical=l.Clinical||{};l.ClinicalDetailsPopup=p({compiler:[7,">= 4.0.0"],main:function(f,e,o,s,l){var y="messageDisplay",v,a;return"<div class='itemdetails'>"+((v=o[r].call(e!=n?e:f.nullContext||{},e!=n?e.PreText:e,{name:r,hash:{},fn:f.program(1,l,0),inverse:f.noop,data:l}))!=n?v:i)+'<form id="commentsform">'+((v=o[r].call(e!=n?e:f.nullContext||{},e!=n?e.SelectableReactionList:e,{name:r,hash:{},fn:f.program(3,l,0),inverse:f.noop,data:l}))!=n?v:i)+'<div class="formrow"><div class="leftcol"><label for="datepicker">'+f.escapeExpression((a=(a=o.DateLabel||(e!=n?e.DateLabel:e))!=n?a:o.helperMissing,typeof a===t?a.call(e!=n?e:f.nullContext||{},{name:"DateLabel",hash:{},data:l}):a))+'<\/label><\/div><div class="rightcol"><input data-inputtype="date" class="date '+((v=o[r].call(e!=n?e:f.nullContext||{},e!=n?e.UseNativeDatePicker:e,{name:r,hash:{},fn:f.program(7,l,0),inverse:f.program(9,l,0),data:l}))!=n?v:i)+'" id="datepicker" name="datepicker" value="'+f.escapeExpression((a=(a=o.FormattedDateNoted||(e!=n?e.FormattedDateNoted:e))!=n?a:o.helperMissing,typeof a===t?a.call(e!=n?e:f.nullContext||{},{name:"FormattedDateNoted",hash:{},data:l}):a))+'" data-Validation-Settings=\'{"isDate":true, "maxDate":"'+f.escapeExpression((a=(a=o.DateToday||(e!=n?e.DateToday:e))!=n?a:o.helperMissing,typeof a===t?a.call(e!=n?e:f.nullContext||{},{name:"DateToday",hash:{},data:l}):a))+'","minDate":"'+f.escapeExpression((a=(a=o.MinDate||(e!=n?e.MinDate:e))!=n?a:o.helperMissing,typeof a===t?a.call(e!=n?e:f.nullContext||{},{name:"MinDate",hash:{},data:l}):a))+"\"}' />"+f.escapeExpression((o.messageDisplay||e&&e.messageDisplay||o.helperMissing).call(e!=n?e:f.nullContext||{},"datepicker",{name:y,hash:{},data:l}))+'<\/div><\/div><div class="formrow"><div class="leftcol"><label for="updatecomments">'+f.escapeExpression((a=(a=o.CommentsLabel||(e!=n?e.CommentsLabel:e))!=n?a:o.helperMissing,typeof a===t?a.call(e!=n?e:f.nullContext||{},{name:"CommentsLabel",hash:{},data:l}):a))+'<\/label><\/div><div class="rightcol"><textarea class="comments" name="updatecomments" id="updatecomments" '+((v=(o.validationSettingsAttribute||e&&e.validationSettingsAttribute||o.helperMissing).call(e!=n?e:f.nullContext||{},e!=n?e.ValidationSettings:e,{name:"validationSettingsAttribute",hash:{},data:l}))!=n?v:i)+">"+f.escapeExpression(f.lambda((v=e!=n?e.UpdateInformation:e)!=n?v.Comments:v,e))+"<\/textarea>"+f.escapeExpression((o.messageDisplay||e&&e.messageDisplay||o.helperMissing).call(e!=n?e:f.nullContext||{},"updatecomments",{name:y,hash:{},data:l}))+"<\/div><\/div>"+((v=o[r].call(e!=n?e:f.nullContext||{},e!=n?e.PostText:e,{name:r,hash:{},fn:f.program(11,l,0),inverse:f.noop,data:l}))!=n?v:i)+((v=(o.ifEquals||e&&e.ifEquals||o.helperMissing).call(e!=n?e:f.nullContext||{},e!=n?e.action:e,1,{name:h,hash:{},fn:f.program(13,l,0),inverse:f.noop,data:l}))!=n?v:i)+((v=(o.ifEquals||e&&e.ifEquals||o.helperMissing).call(e!=n?e:f.nullContext||{},e!=n?e.action:e,2,{name:h,hash:{},fn:f.program(18,l,0),inverse:f.noop,data:l}))!=n?v:i)+((v=(o.ifEquals||e&&e.ifEquals||o.helperMissing).call(e!=n?e:f.nullContext||{},e!=n?e.action:e,7,{name:h,hash:{},fn:f.program(20,l,0),inverse:f.noop,data:l}))!=n?v:i)+((v=(o.ifEquals||e&&e.ifEquals||o.helperMissing).call(e!=n?e:f.nullContext||{},e!=n?e.action:e,8,{name:h,hash:{},fn:f.program(22,l,0),inverse:f.noop,data:l}))!=n?v:i)+'<a href="#" class="button multi cancel popup" data-id="cancelitem" index="'+f.escapeExpression((a=(a=o.index||(e!=n?e.index:e))!=n?a:o.helperMissing,typeof a===t?a.call(e!=n?e:f.nullContext||{},{name:c,hash:{},data:l}):a))+u+f.escapeExpression((a=(a=o.CancelButtonText||(e!=n?e.CancelButtonText:e))!=n?a:o.helperMissing,typeof a===t?a.call(e!=n?e:f.nullContext||{},{name:"CancelButtonText",hash:{},data:l}):a))+"<\/a><\/form><\/div>"},"1":function(i,r,u,f,e){var o;return'<div class="pretext">'+i.escapeExpression((o=(o=u.PreText||(r!=n?r.PreText:r))!=n?o:u.helperMissing,typeof o===t?o.call(r!=n?r:i.nullContext||{},{name:"PreText",hash:{},data:e}):o))+"<\/div>"},"3":function(r,u,f,e,o){var h="ReactionsLabel",c,s;return'<div class="formrow"><fieldset class="clearfieldset"><legend style="opacity:0; width: 0px; height: 0px;">'+r.escapeExpression((s=(s=f.ReactionsLabel||(u!=n?u.ReactionsLabel:u))!=n?s:f.helperMissing,typeof s===t?s.call(u!=n?u:r.nullContext||{},{name:h,hash:{},data:o}):s))+'<\/legend><div class="leftcol"><label aria-hidden="true">'+r.escapeExpression((s=(s=f.ReactionsLabel||(u!=n?u.ReactionsLabel:u))!=n?s:f.helperMissing,typeof s===t?s.call(u!=n?u:r.nullContext||{},{name:h,hash:{},data:o}):s))+'<\/label><\/div><div class="rightcol" id="allergyselect">'+((c=f.each.call(u!=n?u:r.nullContext||{},u!=n?u.SelectableReactionList:u,{name:"each",hash:{},fn:r.program(4,o,0),inverse:r.noop,data:o}))!=n?c:i)+"<\/div><\/fieldset><\/div>"},"4":function(u,f,e,o,s){var c="Value",l,h;return'<span class="tbContainer"><input class="togglebutton clearradio" type="checkbox" display="'+u.escapeExpression((h=(h=e.Title||(f!=n?f.Title:f))!=n?h:e.helperMissing,typeof h===t?h.call(f!=n?f:u.nullContext||{},{name:"Title",hash:{},data:s}):h))+'" name="reaction_'+u.escapeExpression((h=(h=e.value||(f!=n?f.value:f))!=n?h:e.helperMissing,typeof h===t?h.call(f!=n?f:u.nullContext||{},{name:"value",hash:{},data:s}):h))+'" '+((l=e[r].call(f!=n?f:u.nullContext||{},f!=n?f.Selected:f,{name:r,hash:{},fn:u.program(5,s,0),inverse:u.noop,data:s}))!=n?l:i)+' value="'+u.escapeExpression((h=(h=e.Value||(f!=n?f.Value:f))!=n?h:e.helperMissing,typeof h===t?h.call(f!=n?f:u.nullContext||{},{name:c,hash:{},data:s}):h))+'" id="rx_'+u.escapeExpression((h=(h=e.Value||(f!=n?f.Value:f))!=n?h:e.helperMissing,typeof h===t?h.call(f!=n?f:u.nullContext||{},{name:c,hash:{},data:s}):h))+'" onclick="$$WP.Utilities.UI.ToggleButtonClick(this, event, 0);" /><label class="togglebutton" for="rx_'+u.escapeExpression((h=(h=e.Value||(f!=n?f.Value:f))!=n?h:e.helperMissing,typeof h===t?h.call(f!=n?f:u.nullContext||{},{name:c,hash:{},data:s}):h))+'" id="rx_label_'+u.escapeExpression((h=(h=e.Value||(f!=n?f.Value:f))!=n?h:e.helperMissing,typeof h===t?h.call(f!=n?f:u.nullContext||{},{name:c,hash:{},data:s}):h))+'" ondblclick="return false;">'+u.escapeExpression((h=(h=e.Title||(f!=n?f.Title:f))!=n?h:e.helperMissing,typeof h===t?h.call(f!=n?f:u.nullContext||{},{name:"Title",hash:{},data:s}):h))+"<\/label><\/span>"},"5":function(){return'checked=""'},"7":function(){return"nativeCalendar"},"9":function(){return"withCalendar"},"11":function(i,r,u,f,e){var o;return'<div class="posttext">'+i.escapeExpression((o=(o=u.PostText||(r!=n?r.PostText:r))!=n?o:u.helperMissing,typeof o===t?o.call(r!=n?r:i.nullContext||{},{name:"PostText",hash:{},data:e}):o))+"<\/div>"},"13":function(t,r,u,f,e){var o;return(o=(u.ifEquals||r&&r.ifEquals||u.helperMissing).call(r!=n?r:t.nullContext||{},r!=n?r.IsRxNormAdd:r,!0,{name:h,hash:{},fn:t.program(14,e,0),inverse:t.program(16,e,0),data:e}))!=n?o:i},"14":function(i,r,h,c,l){var p;return'<input type="button" class="button inlinesave multi delete popup" data-id="addedrxnormitem" '+i.escapeExpression((p=(p=h.disableIfInvalidAttribute||(r!=n?r.disableIfInvalidAttribute:r))!=n?p:h.helperMissing,typeof p===t?p.call(r!=n?r:i.nullContext||{},{name:s,hash:{},data:l}):p))+o+i.escapeExpression((p=(p=h.selectedId||(r!=n?r.selectedId:r))!=n?p:h.helperMissing,typeof p===t?p.call(r!=n?r:i.nullContext||{},{name:y,hash:{},data:l}):p))+v+i.escapeExpression((p=(p=h.selectedName||(r!=n?r.selectedName:r))!=n?p:h.helperMissing,typeof p===t?p.call(r!=n?r:i.nullContext||{},{name:a,hash:{},data:l}):p))+'" secondary-id="'+i.escapeExpression((p=(p=h.secondaryId||(r!=n?r.secondaryId:r))!=n?p:h.helperMissing,typeof p===t?p.call(r!=n?r:i.nullContext||{},{name:"secondaryId",hash:{},data:l}):p))+e+i.escapeExpression((p=(p=h.AcceptButtonText||(r!=n?r.AcceptButtonText:r))!=n?p:h.helperMissing,typeof p===t?p.call(r!=n?r:i.nullContext||{},{name:f,hash:{},data:l}):p))+u},"16":function(i,r,h,c,l){var p;return'<input type="button" class="button inlinesave multi delete popup" data-id="addeditem" '+i.escapeExpression((p=(p=h.disableIfInvalidAttribute||(r!=n?r.disableIfInvalidAttribute:r))!=n?p:h.helperMissing,typeof p===t?p.call(r!=n?r:i.nullContext||{},{name:s,hash:{},data:l}):p))+o+i.escapeExpression((p=(p=h.selectedId||(r!=n?r.selectedId:r))!=n?p:h.helperMissing,typeof p===t?p.call(r!=n?r:i.nullContext||{},{name:y,hash:{},data:l}):p))+v+i.escapeExpression((p=(p=h.selectedName||(r!=n?r.selectedName:r))!=n?p:h.helperMissing,typeof p===t?p.call(r!=n?r:i.nullContext||{},{name:a,hash:{},data:l}):p))+e+i.escapeExpression((p=(p=h.AcceptButtonText||(r!=n?r.AcceptButtonText:r))!=n?p:h.helperMissing,typeof p===t?p.call(r!=n?r:i.nullContext||{},{name:f,hash:{},data:l}):p))+u},"18":function(i,r,h,l,a){var v;return'<input type="button" class="button inlinesave multi delete popup" data-id="editeditem" '+i.escapeExpression((v=(v=h.disableIfInvalidAttribute||(r!=n?r.disableIfInvalidAttribute:r))!=n?v:h.helperMissing,typeof v===t?v.call(r!=n?r:i.nullContext||{},{name:s,hash:{},data:a}):v))+o+i.escapeExpression((v=(v=h.index||(r!=n?r.index:r))!=n?v:h.helperMissing,typeof v===t?v.call(r!=n?r:i.nullContext||{},{name:c,hash:{},data:a}):v))+e+i.escapeExpression((v=(v=h.AcceptButtonText||(r!=n?r.AcceptButtonText:r))!=n?v:h.helperMissing,typeof v===t?v.call(r!=n?r:i.nullContext||{},{name:f,hash:{},data:a}):v))+u},"20":function(i,r,h,l,a){var v;return'<input type="button" class="button inlinesave multi delete popup" data-id="editedadditem" '+i.escapeExpression((v=(v=h.disableIfInvalidAttribute||(r!=n?r.disableIfInvalidAttribute:r))!=n?v:h.helperMissing,typeof v===t?v.call(r!=n?r:i.nullContext||{},{name:s,hash:{},data:a}):v))+o+i.escapeExpression((v=(v=h.index||(r!=n?r.index:r))!=n?v:h.helperMissing,typeof v===t?v.call(r!=n?r:i.nullContext||{},{name:c,hash:{},data:a}):v))+e+i.escapeExpression((v=(v=h.AcceptButtonText||(r!=n?r.AcceptButtonText:r))!=n?v:h.helperMissing,typeof v===t?v.call(r!=n?r:i.nullContext||{},{name:f,hash:{},data:a}):v))+u},"22":function(i,r,h,l,a){var v;return'<input type="button" class="button inlinesave multi delete popup" data-id="editededititem" '+i.escapeExpression((v=(v=h.disableIfInvalidAttribute||(r!=n?r.disableIfInvalidAttribute:r))!=n?v:h.helperMissing,typeof v===t?v.call(r!=n?r:i.nullContext||{},{name:s,hash:{},data:a}):v))+o+i.escapeExpression((v=(v=h.index||(r!=n?r.index:r))!=n?v:h.helperMissing,typeof v===t?v.call(r!=n?r:i.nullContext||{},{name:c,hash:{},data:a}):v))+e+i.escapeExpression((v=(v=h.AcceptButtonText||(r!=n?r.AcceptButtonText:r))!=n?v:h.helperMissing,typeof v===t?v.call(r!=n?r:i.nullContext||{},{name:f,hash:{},data:a}):v))+u},useData:!0})}(),function(){var u="<\/a>",f="AcceptButtonText",e=' index="',o="disableIfInvalidAttribute",h="<\/div>",i='">',r="index",t="function",n=null,c=Handlebars.template,s=$$WP.Templates=$$WP.Templates||{};s=s.Clinical=s.Clinical||{};s.DeletePopup=c({compiler:[7,">= 4.0.0"],main:function(u,f,e,o,s){var l="ifEquals",a="if",h,c;return"<div class='deleteitem'><form id=\"deletecommentsform\">"+((h=e[a].call(f!=n?f:u.nullContext||{},f!=n?f.PreText:f,{name:a,hash:{},fn:u.program(1,s,0),inverse:u.noop,data:s}))!=n?h:"")+((h=(e.ifEquals||f&&f.ifEquals||e.helperMissing).call(f!=n?f:u.nullContext||{},f!=n?f.action:f,3,{name:l,hash:{},fn:u.program(3,s,0),inverse:u.noop,data:s}))!=n?h:"")+((h=e[a].call(f!=n?f:u.nullContext||{},f!=n?f.PostText:f,{name:a,hash:{},fn:u.program(5,s,0),inverse:u.noop,data:s}))!=n?h:"")+((h=(e.ifEquals||f&&f.ifEquals||e.helperMissing).call(f!=n?f:u.nullContext||{},f!=n?f.action:f,3,{name:l,hash:{},fn:u.program(7,s,0),inverse:u.noop,data:s}))!=n?h:"")+((h=(e.ifEquals||f&&f.ifEquals||e.helperMissing).call(f!=n?f:u.nullContext||{},f!=n?f.action:f,4,{name:l,hash:{},fn:u.program(9,s,0),inverse:u.noop,data:s}))!=n?h:"")+((h=(e.ifEquals||f&&f.ifEquals||e.helperMissing).call(f!=n?f:u.nullContext||{},f!=n?f.action:f,5,{name:l,hash:{},fn:u.program(11,s,0),inverse:u.noop,data:s}))!=n?h:"")+((h=(e.ifEquals||f&&f.ifEquals||e.helperMissing).call(f!=n?f:u.nullContext||{},f!=n?f.action:f,6,{name:l,hash:{},fn:u.program(13,s,0),inverse:u.noop,data:s}))!=n?h:"")+'<a href="#" class="button multi cancel popup" data-id="cancelitem" index="'+u.escapeExpression((c=(c=e.index||(f!=n?f.index:f))!=n?c:e.helperMissing,typeof c===t?c.call(f!=n?f:u.nullContext||{},{name:r,hash:{},data:s}):c))+i+u.escapeExpression((c=(c=e.CancelButtonText||(f!=n?f.CancelButtonText:f))!=n?c:e.helperMissing,typeof c===t?c.call(f!=n?f:u.nullContext||{},{name:"CancelButtonText",hash:{},data:s}):c))+"<\/a><\/form><\/div>"},"1":function(i,r,u,f,e){var o;return'<div class="pretext">'+i.escapeExpression((o=(o=u.PreText||(r!=n?r.PreText:r))!=n?o:u.helperMissing,typeof o===t?o.call(r!=n?r:i.nullContext||{},{name:"PreText",hash:{},data:e}):o))+h},"3":function(i,r,u,f,e){var s,o;return'<div class="deletecomments"><label for="deletecomments" class="clearlabel">'+i.escapeExpression((o=(o=u.DeleteCommentsLabel||(r!=n?r.DeleteCommentsLabel:r))!=n?o:u.helperMissing,typeof o===t?o.call(r!=n?r:i.nullContext||{},{name:"DeleteCommentsLabel",hash:{},data:e}):o))+'<\/label><textarea class="comments" name="deletecomments" id="deletecomments" '+((s=(u.validationSettingsAttribute||r&&r.validationSettingsAttribute||u.helperMissing).call(r!=n?r:i.nullContext||{},r!=n?r.ValidationSettings:r,{name:"validationSettingsAttribute",hash:{},data:e}))!=n?s:"")+" />"+i.escapeExpression((u.messageDisplay||r&&r.messageDisplay||u.helperMissing).call(r!=n?r:i.nullContext||{},"deletecomments",{name:"messageDisplay",hash:{},data:e}))+h},"5":function(i,r,u,f,e){var o;return'<div class="posttext">'+i.escapeExpression((o=(o=u.PostText||(r!=n?r.PostText:r))!=n?o:u.helperMissing,typeof o===t?o.call(r!=n?r:i.nullContext||{},{name:"PostText",hash:{},data:e}):o))+h},"7":function(s,h,c,l,a){var v;return'<a href="#" class="button inlinesave multi delete popup" data-id="deleteditem" '+s.escapeExpression((v=(v=c.disableIfInvalidAttribute||(h!=n?h.disableIfInvalidAttribute:h))!=n?v:c.helperMissing,typeof v===t?v.call(h!=n?h:s.nullContext||{},{name:o,hash:{},data:a}):v))+e+s.escapeExpression((v=(v=c.index||(h!=n?h.index:h))!=n?v:c.helperMissing,typeof v===t?v.call(h!=n?h:s.nullContext||{},{name:r,hash:{},data:a}):v))+i+s.escapeExpression((v=(v=c.AcceptButtonText||(h!=n?h.AcceptButtonText:h))!=n?v:c.helperMissing,typeof v===t?v.call(h!=n?h:s.nullContext||{},{name:f,hash:{},data:a}):v))+u},"9":function(s,h,c,l,a){var v;return'<a href="#" class="button inlinesave multi delete popup" data-id="unaddeditem" '+s.escapeExpression((v=(v=c.disableIfInvalidAttribute||(h!=n?h.disableIfInvalidAttribute:h))!=n?v:c.helperMissing,typeof v===t?v.call(h!=n?h:s.nullContext||{},{name:o,hash:{},data:a}):v))+e+s.escapeExpression((v=(v=c.index||(h!=n?h.index:h))!=n?v:c.helperMissing,typeof v===t?v.call(h!=n?h:s.nullContext||{},{name:r,hash:{},data:a}):v))+i+s.escapeExpression((v=(v=c.AcceptButtonText||(h!=n?h.AcceptButtonText:h))!=n?v:c.helperMissing,typeof v===t?v.call(h!=n?h:s.nullContext||{},{name:f,hash:{},data:a}):v))+u},"11":function(s,h,c,l,a){var v;return'<a href="#" class="button inlinesave multi delete popup" data-id="undeleteditem" '+s.escapeExpression((v=(v=c.disableIfInvalidAttribute||(h!=n?h.disableIfInvalidAttribute:h))!=n?v:c.helperMissing,typeof v===t?v.call(h!=n?h:s.nullContext||{},{name:o,hash:{},data:a}):v))+e+s.escapeExpression((v=(v=c.index||(h!=n?h.index:h))!=n?v:c.helperMissing,typeof v===t?v.call(h!=n?h:s.nullContext||{},{name:r,hash:{},data:a}):v))+i+s.escapeExpression((v=(v=c.AcceptButtonText||(h!=n?h.AcceptButtonText:h))!=n?v:c.helperMissing,typeof v===t?v.call(h!=n?h:s.nullContext||{},{name:f,hash:{},data:a}):v))+u},"13":function(s,h,c,l,a){var v;return'<a href="#" class="button inlinesave multi delete popup" data-id="unediteditem" '+s.escapeExpression((v=(v=c.disableIfInvalidAttribute||(h!=n?h.disableIfInvalidAttribute:h))!=n?v:c.helperMissing,typeof v===t?v.call(h!=n?h:s.nullContext||{},{name:o,hash:{},data:a}):v))+e+s.escapeExpression((v=(v=c.index||(h!=n?h.index:h))!=n?v:c.helperMissing,typeof v===t?v.call(h!=n?h:s.nullContext||{},{name:r,hash:{},data:a}):v))+i+s.escapeExpression((v=(v=c.AcceptButtonText||(h!=n?h.AcceptButtonText:h))!=n?v:c.helperMissing,typeof v===t?v.call(h!=n?h:s.nullContext||{},{name:f,hash:{},data:a}):v))+u},useData:!0})}();$$WPUtil.guaranteeExistence($$WP,"Clinical.Common.Components");$$WP.Clinical.Common.Components.ClinicalDetailsPopup=function(n){this.Components$TemplateComponent(n)};$$WP.Clinical.Common.Components.ClinicalDetailsPopup.prototype={template:$$WP.Templates.Clinical.ClinicalDetailsPopup,setData:function(n){var i=new $$WP.FormValidation.ValidationSettings({maxLength:1e3,showCharacterCounter:!0});n.ValidationSettings=i;var t=new Date,r=t.getFullYear(),u=t.getMonth(),f=t.getDate();n.DateToday=new Date(r,u,f);n.MinDate=new Date(1841,0,1);this.Components$TemplateComponent$setData(n)},refresh:function(){this.Components$TemplateComponent$refresh();$$WP.Utilities.UI.IsMobile||WP.DOM.Browser.isMobile?$$WPUtil.UseHTML5InputControls():(writeCalendar("datepicker","past",makeLink("en-US/Images/calendar.svg")),setupButtoncheck($afe.select(".lookupcontainer")))}};$$WP.Clinical.Common.Components.ClinicalDetailsPopup.extend("Components.TemplateComponent");$$WPUtil.guaranteeExistence($$WP,"Clinical.Common.Components");$$WP.Clinical.Common.Components.DeletePopup=function(n){this.Components$TemplateComponent(n)};$$WP.Clinical.Common.Components.DeletePopup.prototype={template:$$WP.Templates.Clinical.DeletePopup,setData:function(n){var t=new $$WP.FormValidation.ValidationSettings({maxLength:1e3,showCharacterCounter:!0});n.ValidationSettings=t;this.Components$TemplateComponent$setData(n)}};$$WP.Clinical.Common.Components.DeletePopup.extend("Components.TemplateComponent")