var debug_clickedModel,applicationWelcome;$$WP.$body=$$WP.$body||$afe.select("body"),function(){var u="[data-model-id]",i='"]',f='[data-view-binder-id="',e="data-view-binder-id",t="data-model-id",n=null,o=$$WP.Common.Model,s=$$WP.Common.ModelCollection,r=function(n,t){var i=this,r;for(i.WP$Controllers$Controller(),n=n||[],t=t||[],i.proxify("_onDomEventWrapper","_onPropertyChangedWrapper"),i.ViewBinderId=c++,i._eventNames=n.join(" "),i._boundModels={},i._modelId2listenerId={},i._propertyNames={},r=0;r<t.length;r++)i._propertyNames[t[r]]=!0;i.setBindingRoot($$WP.$body)},h={ViewBinderId:n,_eventNames:n,_propertyNames:n,_$bindingRoot:n,_boundModels:n,_modelId2listenerId:n,bindModel:function(n){var t=this,i;t._boundModels[n.ModelId]||(t._boundModels[n.ModelId]=!0,i=n.addPropertyListener("",t._onPropertyChangedWrapper),t._modelId2listenerId[n.ModelId]=i)},bindAllModels:function(n){for(var t=0;t<n.length;t++)this.bindModel(n[t])},bind:function(n,i){this.bindModel(n);i.safeAttr(t,n.ModelId);i.safeAttr(e,this.ViewBinderId)},unbindModel:function(n){var t=this;t._boundModels[n.ModelId]&&(delete t._boundModels[n.ModelId],n.removePropertyListener(t._modelId2listenerId[n.ModelId]),t.unbindElement(t.getBoundElements(n,t._$bindingRoot)))},unbindElement:function(n){n.removeAttr(t);n.removeAttr(e)},getBoundElements:function(n,t){var r;return t=t||this._$bindingRoot,r=f+this.ViewBinderId+i,typeof n!="undefined"&&(r+='[data-model-id="'+n.ModelId+i),t.find(r)},getBoundModels:function(){var i,r,n;for(r={},i=this.getBoundElements(),n=0;n<i.length;n++)r[$afe.jq(i.get(n)).safeAttr(t)]=!0;return s.modelIdSet2Array(r)},setBindingRoot:function(t){var r=this,u;u=f+r.ViewBinderId+i;r._$bindingRoot!==n&&r._$bindingRoot.off(r._eventNames,u,r._onDomEventWrapper);r._$bindingRoot=t;r._$bindingRoot.on(r._eventNames,u,r._onDomEventWrapper)},syncModelsToDOM:function(){for(var t=this.getBoundModels(),n=0;n<t.length;n++)this._onSyncModelToDOM(t[n])},_onDomEventWrapper:function(r,u){var f,e,s;f=$afe.jq(r.target).closest('[data-model-id][data-view-binder-id="'+this.ViewBinderId+i);s=f.safeAttr(t);e=o.getInstance(s);(e!==n||s==="-1")&&this._onDomEvent(e,f,r,u)},_onPropertyChangedWrapper:function(n){this._propertyNames[n.propertyName]&&this._onPropertyChanged(n.model,n)},_onPropertyChanged:function(){throw"[ViewBinder] Subclass did not implement the virtual method _onPropertyChanged";},_onSyncModelToDOM:function(){throw"[ViewBinder] Subclass did not implement the virtual method _onSyncModelToDOM";},_onDomEvent:function(){throw"[ViewBinder] Subclass did not implement the virtual method _onDomEvent";}},c=0,l=function(i){var f,e,r;i.ctrlKey&&$$WP.Debug.IsEnabled&&(f=$afe.jq(i.target).closest(u),e=f.safeAttr(t),r=o.getInstance(e),r!==n&&(debug_clickedModel=r,$$WP.Debug.log("(Ctrl+Click on bound model) Global variable debug_clickedModel set to point at model #"+r.ModelId+" : "+r._constructor._className)))};if(r.prototype=h,$$WP.Common=$$WP.Common||{},$$WP.Common.ViewBinder=r,r.extend($$WP.Controllers.Controller,"WP$Common$ViewBinder"),$$WP.Debug.IsEnabled)$$WP.$body.on("click",u,l)}();$$WP.Debug.UnitTest=$$WP.Debug.UnitTest||{};$$WP.Debug.UnitTest.tests=$$WP.Debug.UnitTest.tests||[];$$WP.Debug.UnitTest.tests.push(function(){var n=$$WP.Debug.UnitTest.assert}),function(){var n="hover",i="mouseleave",r="mouseenter",t;$$WP.Common=$$WP.Common||{};t=function(n){var t=this;t.WP$Common$ViewBinder([r,i,"focus","blur"],[n]);t._statePropertyName=n;t._hovered=!0;t._unhovered=!1};t.prototype={_statePropertyName:null,_hovered:null,_unhovered:null,_onPropertyChanged:function(t,i){var r=this;i.to===r._unhovered?r.getBoundElements(t).removeClass(n):i.to===r._hovered&&r.getBoundElements(t).addClass(n)},_onSyncModelToDOM:function(t){var i=this;t[i._statePropertyName]===i._hovered?i.getBoundElements(t).addClass(n):i.getBoundElements(t).removeClass(n)},_onDomEvent:function(n,t,u){var f=this,o,e,s;o=n[f._statePropertyName];u.type===r||u.type==="focusin"?e=f._hovered:u.type===i?e=f._unhovered:u.type==="focusout"&&(s=u.relatedTarget,t.has(s).length===0&&(e=f._unhovered));o!==e&&n.setProperty(f._statePropertyName,e);u.preventDefault()}};$$WP.Common.HoverViewBinder=t;t.extend($$WP.Common.ViewBinder,"WP$Common$HoverViewBinder")}();$$WP.Debug.UnitTest=$$WP.Debug.UnitTest||{};$$WP.Debug.UnitTest.tests=$$WP.Debug.UnitTest.tests||[];$$WP.Debug.UnitTest.tests.push(function(){var n=$$WP.Debug.UnitTest.assert}),function(){var u="PopupVisible",n=null,f=$$WP.Common.ModelCollection,r=n,i=n,e=[{propertyNames:u,storeAs:"set"}],o=[u],t=function(t){var u=this;u.WP$Common$Model(t);r===n&&(r=new f(e,o));i===n&&(i=new $$WP.UI.InfoBubbleViewBinder);$$WPUtil.IsNullOrEmpty(u.AnchorText)&&$$WPUtil.IsNullOrEmpty(u.Image)&&$$WP.Debug.logError("InfoBubble requested with neither an image nor a text anchor.",!0);$$WPUtil.IsNullOrEmpty(u.BubbleText)&&$$WP.Debug.logError("InfoBubble requested without any text for the popup.",!0);u.PopupVisible=!1;r.add(u);i.bindModel(u)},s=function(n,i){return new t({BubbleText:n,DisableHtmlEncoding:i,Image:"images/info.png"})},h=function(n,i,r){return new t({AnchorText:n,BubbleText:i,DisableHtmlEncoding:r})},c={s_dataMembers:["AnchorText","BubbleText","BubbleTitle","DisableHtmlEncoding","Image"],AnchorText:n,BubbleText:n,BubbleTitle:n,DisableHtmlEncoding:n,Image:n,PopupVisible:n,ViewBinderId:function(){return i.ViewBinderId}};t.prototype=c;t.SimpleInfoBubble=s;t.SimpleTextInfoBubble=h;$$WP.UI=$$WP.UI||{};$$WP.UI.InfoBubble=t;t.extend($$WP.Common.Model,"WP$UI$InfoBubble")}(),function(){var t="aria-hidden",i=".infoBubblePopup",r=".infoBubbleTarget",n=function(){this.WP$Common$HoverViewBinder("PopupVisible")};n.prototype={_onPropertyChanged:function(n,t){var i=this;t.from===i._hovered?i.hidePopup(i.getBoundElements(n)):t.to===i._hovered&&i.showPopup(i.getBoundElements(n));i.WP$Common$HoverViewBinder$_onPropertyChanged(n,t)},_onSyncModelToDOM:function(n){var t=this;t.WP$Common$HoverViewBinder$_onSyncModelToDOM(n);n[t._statePropertyName]===t._hovered?t.showPopup(t.getBoundElements(n)):t.hidePopup(t.getBoundElements(n))},_onDomEvent:function(n,t,i){this.WP$Common$HoverViewBinder$_onDomEvent(n,t,i)},showPopup:function(n){var s="data-ispositioned",u,e,o,f;o=n.find(r);f=n.find(i);n.safeAttr(s)!=="1"&&(u=$$WPUtil.positionElementNear(o,f),e=o.offset(),u.top-=e.top,u.left-=e.left,f.css({left:u.left+"px",top:u.top+"px"}),n.safeAttr(s,"1"));f.safeAttr(t,!1)},hidePopup:function(n){var u,f;u=n.find(i);f=n.find(r);u.safeAttr(t,!0)}};$$WP.UI=$$WP.UI||{};$$WP.UI.InfoBubbleViewBinder=n;n.extend($$WP.Common.HoverViewBinder,"WP$UI$InfoBubbleViewBinder")}();$$WP.Debug.UnitTest=$$WP.Debug.UnitTest||{};$$WP.Debug.UnitTest.tests=$$WP.Debug.UnitTest.tests||[];$$WP.Debug.UnitTest.tests.push(function(){var n=$$WP.Debug.UnitTest.assert}),function(){var n=function(n,t){var r=["input","blur"],i;for(Array.isArray(t)||(t=[t]),i=0;i<t.length;i++)r.push(t[i]);this.WP$Common$ViewBinder(r,[n])},t={_onPropertyChanged:function(n,t){t.propertyName==="OtherSelected"&&this.getBoundElements(n).trigger($.Event("otherOptionToggled"))},_onSyncModelToDOM:function(n){this.WP$Common$ViewBinder$_onSyncModelToDOM(n)},_onDomEvent:function(n,t,i,r){n===null||typeof n._updateAnswerFromDOM!="function"||r||n._updateAnswerFromDOM(t,i);$afe.jq(document).trigger("resetDrawingOffset");i.preventDefault()}};n.prototype=t;$$WP.Questions=$$WP.Questions||{};$$WP.Questions.QuestionViewBinder=n;n.extend($$WP.Common.ViewBinder,"WP$Questions$QuestionViewBinder")}();$$WP.Debug.UnitTest=$$WP.Debug.UnitTest||{};$$WP.Debug.UnitTest.tests=$$WP.Debug.UnitTest.tests||[];$$WP.Debug.UnitTest.tests.push(function(){var n=$$WP.Debug.UnitTest.assert}),function(){$$WP.Utilities.guaranteeExistence($$WP,"Questions");$$WP.Questions.CustomListOptionStyle={Text:1,TextWithImage:2,Image:3};$$WP.Questions.GroupQuestionDisplayStyle={SingleColumn:1,TwoColumn:2,ThreeColumn:3,FourColumn:4,Table:5}}(),function(){$$WP.Utilities.guaranteeExistence($$WP,"Questions");$$WP.Questions.QuestionTypeEnum={Question:100,Group:101,Drawing:102}}(),function(){$$WP.Utilities.guaranteeExistence($$WP,"Questions");$$WP.Questions.ResponseTypeEnum={Text:1,Date:2,Time:3,Numeric:4,CustomList:6,CategoryINI:7,YesNo:8,TimeWithUnits:14,Upload:19}}(),function(){var n=null;$$WP.Utilities.guaranteeExistence($$WP,"Questions");var t=function(n){this.WP$Common$Model(n)},i={s_dataMembers:["Index","Text","IsSelected","ImagePath"],Text:n,Index:n,IsSelected:!1,ImagePath:n,FollowUpQuestions:n,convertToCoreChoiceModel:function(){var n={},t;if(n.Index=this.Index,this.FollowUpQuestions)for(n.FollowUpQuestions=this.FollowUpQuestions.convertToCoreQuestionArray(),t=0;t<n.FollowUpQuestions.length;t++)n.FollowUpQuestions[t].ID=n.FollowUpQuestions[t].FollowUpQuestionID;return n}},r=[{propertyNames:"ID",storeAs:"set"}],u=["ID"],f=[],e=function(n){var t,i,e,o;if(t=new $$WP.Questions.ChoiceCollection(r,u,f),n){for(t.openChangeBatch(),i=0;i<n.length;i++)e=n[i],o=new $$WP.Questions.Choice(e),t.add(o);t.closeChangeBatch()}return t};t.prototype=i;$$WP.Questions=$$WP.Questions||{};$$WP.Questions.Choice=t;$$WP.Questions.Choice.createChoiceCollection=e;t.extend($$WP.Common.Model,"WP$Questions$Choice")}();$$WP.Debug.UnitTest=$$WP.Debug.UnitTest||{};$$WP.Debug.UnitTest.tests=$$WP.Debug.UnitTest.tests||[];$$WP.Debug.UnitTest.tests.push(function(){var n=$$WP.Debug.UnitTest.assert}),function(){var n=function(n,t,i){this.WP$Common$ModelCollection(n,t,i)},t={convertToCoreChoiceArray:function(){for(var i=[],n,t=0;t<this.Models.length;t++)n=this.Models[t],$.isFunction(n.convertToCoreChoiceModel)&&n.IsSelected&&i.push(n.convertToCoreChoiceModel());return i},isAnyChoiceSelected:function(){return this.getSelectedChoices().length>0},getSelectedChoices:function(){for(var t=[],n=0;n<this.Models.length;n++)this.Models[n].IsSelected&&t.push(this.Models[n]);return t}};n.prototype=t;$$WP.Questions=$$WP.Questions||{};$$WP.Questions.ChoiceCollection=n;n.extend($$WP.Common.ModelCollection,"WP$Questions$ChoiceCollection")}();$$WP.Debug.UnitTest=$$WP.Debug.UnitTest||{};$$WP.Debug.UnitTest.tests=$$WP.Debug.UnitTest.tests||[];$$WP.Debug.UnitTest.tests.push(function(){var n=$$WP.Debug.UnitTest.assert}),function(){var t=!1,n=null,i=function(n,t){var i=this;i.WP$Common$Model(n);i._updateMiscSettings();i._updateMnemonics();i._updateValidationSettings();i._setAnswerChangedCallback(t);i.HasAnswers=i._isQuestionAnswered();i.HelpText=dangerou$.parseHtml("<div>"+i.HelpText+"<\/div>").prop("innerHTML")},r={s_dataMembers:[],s_coreQuestionDataMembers:["ID","FollowUpQuestionID","DAT","QuestionType","ResponseType","IsRequired","IsMultiResponse","IsTrigger","IsEnabled","DisplayStyle","DisplayStyleVal"],ID:n,FollowUpQuestionID:n,Name:n,DAT:n,QuestionType:0,ResponseType:0,Prompt:n,HelpText:n,IsRequired:t,IsMultiResponse:t,DisplayStyle:n,DisplayStyleVal:0,IsTrigger:t,IsEnabled:!0,AnswerChangedCallback:n,HasAnswers:t,HasErrors:t,FormElementName:n,ValidationSettings:n,ViewBinderId:n,CssClassName:"",Timer:0,Delay:175,HasZebraStripeOn:t,convertToCoreQuestionModel:function(){for(var r={},t,n,i=0;i<this.s_coreQuestionDataMembers.length;i++)t=this.s_coreQuestionDataMembers[i],n=this[t],r[t]=!$$WPUtil.IsNullOrEmpty(n)&&$.isFunction(n.WP$Common$Model)&&$.isFunction(n.convertToCoreQuestionModel)?n.convertToCoreQuestionModel():n;return r},addViewBinderId:function(n){this.ViewBinderId=n},_updateMnemonics:function(){throw"[BaseQuestion] Subclass did not implement the virtual method _updateMnemonics";},_updateValidationSettings:function(){throw"[BaseQuestion] Subclass did not implement the virtual method _updateValidationSettings";},_getValidationSettingsForInput:function(){return this.ValidationSettings},_getGroupValidationSettings:function(){return n},_updateAnswerFromDOM:function(){throw"[BaseQuestion] Subclass did not implement the virtual method _updateAnswerFromDOM. This function is needed for the binder to automatically update the answer in the model.";},_setAnswerChangedCallback:function(n){this.AnswerChangedCallback=n},_triggerAnswerChangedCallback:function(n,t){var i=this;t&&document.activeElement!==n.context?(i.AnswerChangedCallback(i),i.Timer=0):i.Timer||(i.Timer=setTimeout($.proxy(function(){this.AnswerChangedCallback(this);this.Timer=0},i),i.Delay))},_getInvalidInputs:function(){var n;return n=$afe.select('[data-lql="'+this.ID+'"]'),n.find('[data-invalid="true"]').filter("input, textarea, select")},_updateMiscSettings:function(){this.FormElementName="LQL_"+this.ID},_isQuestionAnswered:function(){throw"[BaseQuestion] Subclass did not implement the virtual method _isQuestionAnswered. This function is needed to determine whether or not a question  has been answered.";}},u=[{propertyNames:"ID",storeAs:"set"}],f=["ID"],e=[],o=function(){return new $$WP.Questions.QuestionCollection(u,f,e)};i.prototype=r;$$WP.Questions=$$WP.Questions||{};$$WP.Questions.BaseQuestion=i;$$WP.Questions.BaseQuestion.createQuestionCollection=o;i.extend($$WP.Common.Model,"WP$Questions$BaseQuestion")}();$$WP.Debug.UnitTest=$$WP.Debug.UnitTest||{};$$WP.Debug.UnitTest.tests=$$WP.Debug.UnitTest.tests||[];$$WP.Debug.UnitTest.tests.push(function(){var n=$$WP.Debug.UnitTest.assert}),function(){var f="_buttons",t=!0,i=!1,n=null,r="OtherSelected",u=function(n,t){var i=this;i.Choices=$$WP.Questions.Choice.createChoiceCollection(n.Choices);i.HasQuickButtons=i.Choices&&i.Choices.Models&&i.Choices.Models.length>0;i.WP$Questions$BaseQuestion(n,t)},e={s_dataMembers:["ID","FollowUpQuestionID","Name","DAT","QuestionType","ResponseType","Prompt","HelpText","IsRequired","IsMultiResponse","DisplayStyle","DisplayStyleVal","HasAnswers","IsTrigger","IsEnabled","Timer","Delay","Answer",r],Answer:n,Choices:n,HasQuickButtons:i,OtherSelected:i,ButtonsFormElementName:n,ButtonValidationSettings:n,MultiResponsePrompt:n,convertToCoreQuestionModel:function(){var n=this,t={};return t=n.WP$Questions$BaseQuestion$convertToCoreQuestionModel(),t.Answer=n._getInvalidInputs().length>0||n.HasQuickButtons&&!n.OtherSelected?{Text:""}:{Text:n.Answer},t.Answer.Choices=n.Choices.convertToCoreChoiceArray(),t},_updateMnemonics:function(){this.IsMultiResponse&&($$WP.Strings.setDefaultNamespace("Questions"),this.MultiResponsePrompt=$$WP.Strings.getForTemplate("MultipleResponsePrompt"),$$WP.Strings.clearDefaultNamespace())},_updateValidationSettings:function(){var n=this,i,r;i=n.IsMultiResponse?"1000":"255";r=new $$WP.FormValidation.ValidationSettings({maxLength:i,showCharacterCounter:t});n.ValidationSettings=r;n.ButtonValidationSettings=new $$WP.FormValidation.ValidationSettings;n.HasQuickButtons?(n.IsMultiResponse?n.ButtonValidationSettings.atLeastOneChecked=n.IsRequired:n.ButtonValidationSettings.required=n.IsRequired,n.ValidationSettings.required=n.OtherSelected):n.ValidationSettings.required=n.IsRequired},_getValidationSettingsForInput:function(t){var i=t.safeAttr("name");return i!==n&&typeof i=="string"&&i.indexOf(f)>-1?this.ButtonValidationSettings:this.ValidationSettings},_updateMiscSettings:function(){this.WP$Questions$BaseQuestion$_updateMiscSettings();this.ButtonsFormElementName="LQL_"+this.ID+f},_updateAnswerFromDOM:function(u,f){var l=":checked",e=this,s,h,a,c,o;if(u!==n&&typeof u=="object"&&u instanceof jQuery){if(u[0].type==="text"||u[0].type==="textarea")s=u.val(),s&&(s=s.toString().replace(/\s+$/,"")),e.Answer!==s&&(h=t),e.Answer=s;else if(a=u.val(),e.Choices!==n&&e.Choices.Models!==n&&f.type!=="focusout"){for(c=0;c<e.Choices.Models.length;c++)o=e.Choices.Models[c],o.Index===a?u.is(l)?(o.IsSelected||(h=t),o.IsSelected=t,e.IsMultiResponse||e.setProperty(r,i)):(o.IsSelected&&(h=t),o.IsSelected=i):e.IsMultiResponse||(o.IsSelected&&(h=t),o.IsSelected=i);a===""&&(e.OtherSelected==u.is(l)||$$WPUtil.IsNullOrEmpty(e.Answer)||(h=t),e.setProperty(r,u.is(l)))}h&&(e.HasAnswers=e._isQuestionAnswered(),e._triggerAnswerChangedCallback(u,t))}},_isQuestionAnswered:function(){return!$$WPUtil.IsNullOrEmpty(this.Answer)||this.Choices.isAnyChoiceSelected()}};u.prototype=e;$$WP.Questions=$$WP.Questions||{};$$WP.Questions.FreeTextQuestion=u;u.extend($$WP.Questions.BaseQuestion,"WP$Questions$FreeTextQuestion")}();$$WP.Debug.UnitTest=$$WP.Debug.UnitTest||{};$$WP.Debug.UnitTest.tests=$$WP.Debug.UnitTest.tests||[];$$WP.Debug.UnitTest.tests.push(function(){var n=$$WP.Debug.UnitTest.assert}),function(){var n=null,t=function(n,t){var i=this,r;($$WP.Utilities.UI.IsMobile||WP.DOM.Browser.isMobile||$$WP.ApplicationContext===78)&&n.Answer!==""&&$$WP.Utilities.isBrowserCapableOf("input",{type:"date"})&&(r=$$WP.I18N.parseDate(n.Answer),n.Answer=i.__localeDateToISO(r));i.LocalePlaceholder=$$WP.I18N.getDateFormatForDisplay();i.WP$Questions$BaseQuestion(n,t);i.FormElementName+="-date"},i={s_dataMembers:["ID","FollowUpQuestionID","Name","DAT","QuestionType","ResponseType","Prompt","HelpText","IsRequired","IsMultiResponse","DisplayStyle","DisplayStyleVal","IsTrigger","IsEnabled","AnswerChangedCallback","Timer","Delay","Answer","LocalePlaceholder"],Answer:n,Timer:0,Delay:500,LocalePlaceholder:n,convertToCoreQuestionModel:function(){var t=this,n={},i,r,u;return n=t.WP$Questions$BaseQuestion$convertToCoreQuestionModel(),i=$afe.select('.question.date[data-lql="'+n.ID+'"]'),t._getInvalidInputs().length>0?n.Answer={Text:""}:i.find('input[type="date"]').length>0?(r=new Date(t.Answer),u=$$WP.I18N.formatPatientGivenDate(r),n.Answer={Text:u}):n.Answer={Text:t.Answer},n},_updateMnemonics:function(){},_updateValidationSettings:function(){this.ValidationSettings=new $$WP.FormValidation.ValidationSettings({isDate:!0,required:this.IsRequired,maxLength:"15",minDate:new Date(1841,0,1),maxDate:new Date(4578,10,26)})},_updateAnswerFromDOM:function(t){var i=this,r,u;t!==n&&typeof t=="object"&&t instanceof jQuery&&(r=t.val(),i.Answer!==r&&(u=!0),i.Answer=r,u&&(i.HasAnswers=i._isQuestionAnswered(),i._triggerAnswerChangedCallback(t,!0)))},_isQuestionAnswered:function(){return!$$WPUtil.IsNullOrEmpty(this.Answer)},__localeDateToISO:function(t){if(t===n||isNaN(t.getTime()))return"";var u,i,r;return u=t.getUTCFullYear(),i=t.getUTCMonth()+1,r=t.getUTCDate(),i<10&&(i="0"+i),r<10&&(r="0"+r),[u,i,r].join("-")}};t.prototype=i;$$WP.Questions=$$WP.Questions||{};$$WP.Questions.DateQuestion=t;t.extend($$WP.Questions.BaseQuestion,"WP$Questions$DateQuestion")}();$$WP.Debug.UnitTest=$$WP.Debug.UnitTest||{};$$WP.Debug.UnitTest.tests=$$WP.Debug.UnitTest.tests||[];$$WP.Debug.UnitTest.tests.push(function(){var n=$$WP.Debug.UnitTest.assert}),function(){var n=null,t=function(n,t){if(($$WP.Utilities.UI.IsMobile||WP.DOM.Browser.isMobile||$$WP.ApplicationContext===78)&&n.Answer!==""&&$$WP.Utilities.isBrowserCapableOf("input",{type:"time"})){var i;i=$$WP.I18N.parseTime(n.Answer);n.Answer=this.__localeTimeTo24Hr(i)}this.LocalePlaceholder=$$WP.I18N.getTimeFormatForDisplay();this.WP$Questions$BaseQuestion(n,t)},i={s_dataMembers:["ID","FollowUpQuestionID","Name","DAT","QuestionType","ResponseType","Prompt","HelpText","IsRequired","IsMultiResponse","DisplayStyle","DisplayStyleVal","IsTrigger","IsEnabled","AnswerChangedCallback","Answer","Timer","Delay","LocalePlaceholder"],Answer:n,LocalePlaceholder:n,convertToCoreQuestionModel:function(){var t=this,n={},i,r,u;return n=t.WP$Questions$BaseQuestion$convertToCoreQuestionModel(),i=$afe.select('.question.time[data-lql="'+n.ID+'"]'),t._getInvalidInputs().length>0?n.Answer={Text:""}:i.find('input[type="time"]').length>0?(r=$$WP.I18N.parse24HrTime(t.Answer),u=$$WP.I18N.formatPatientGivenTime(r),n.Answer={Text:u}):n.Answer={Text:t.Answer},n},_updateMnemonics:function(){},_updateValidationSettings:function(){this.ValidationSettings=new $$WP.FormValidation.ValidationSettings({isTime:!0,required:this.IsRequired,maxLength:"15"})},_updateAnswerFromDOM:function(t){var i=this,r,u;t!==n&&typeof t=="object"&&t instanceof jQuery&&(r=t.val(),i.Answer!==r&&(u=!0),i.Answer=r,u&&(i.HasAnswers=i._isQuestionAnswered(),i._triggerAnswerChangedCallback(t,!0)))},_isQuestionAnswered:function(){return!$$WPUtil.IsNullOrEmpty(this.Answer)},__localeTimeTo24Hr:function(t){if(t===n||isNaN(t.getTime()))return"";var i,r;return i=t.getUTCHours(),r=t.getUTCMinutes(),i<10&&(i="0"+i),r<10&&(r="0"+r),[i,r].join(":")}};t.prototype=i;$$WP.Questions=$$WP.Questions||{};$$WP.Questions.TimeQuestion=t;t.extend($$WP.Questions.BaseQuestion,"WP$Questions$TimeQuestion")}();$$WP.Debug.UnitTest=$$WP.Debug.UnitTest||{};$$WP.Debug.UnitTest.tests=$$WP.Debug.UnitTest.tests||[];$$WP.Debug.UnitTest.tests.push(function(){var n=$$WP.Debug.UnitTest.assert}),function(){var i="']",u="_buttons",n=!0,t=null,r=function(n,t){this.Choices=$$WP.Questions.Choice.createChoiceCollection(n.Choices);this.WP$Questions$BaseQuestion(n,t)},f={s_dataMembers:["ID","FollowUpQuestionID","Name","DAT","QuestionType","ResponseType","Prompt","HelpText","IsRequired","IsMultiResponse","DisplayStyle","DisplayStyleVal","HasAnswers","IsTrigger","IsEnabled","Precision","TextAnswer","ButtonsFormElementName","ButtonValidationSettings","GroupValidationSettings","Timer","Delay"],ButtonsFormElementName:t,ButtonValidationSettings:t,GroupValidationSettings:t,OneAnswerPopulated:!1,Precision:t,Choices:t,TextAnswer:t,Mnemonics:t,convertToCoreQuestionModel:function(){var n=this,t={};return t=n.WP$Questions$BaseQuestion$convertToCoreQuestionModel(),t.Answer=n._getInvalidInputs().length>0?{Text:""}:{Text:n.TextAnswer},t.Answer.Choices=n.Choices.convertToCoreChoiceArray(),t},_updateMnemonics:function(){this.Mnemonics={QuestionPrompt:{Value:this.Prompt}}},_updateValidationSettings:function(){var t=this;t.ValidationSettings=new $$WP.FormValidation.ValidationSettings({isNumber:n,min:0,precision:t.Precision,required:t.IsRequired,maxLength:"15"});t.ButtonValidationSettings=new $$WP.FormValidation.ValidationSettings({required:t.IsRequired});t.GroupValidationSettings=new $$WP.FormValidation.ValidationGroup({name:"time-with-units-"+t.ID,allRequired:!t.IsRequired,disableButtonsWhenEmpty:t.IsRequired,evaluateParentGroups:n})},_getGroupValidationSettings:function(){return this.GroupValidationSettings},_getValidationSettingsForInput:function(n){var i=n.safeAttr("name");return i!==t&&typeof i=="string"&&i.indexOf(u)>-1?this.ButtonValidationSettings:this.ValidationSettings},_getInvalidInputs:function(){var n=this,r,t;return r=$afe.select('[data-lql="'+n.ID+'"]'),t=n.WP$Questions$BaseQuestion$_getInvalidInputs(),t.length===0&&(n._hasUnitNoNumber()?$.merge(t,r.find("[name='"+n.FormElementName+i)):n._hasNumberNoUnit()&&$.merge(t,r.find("[name='"+n.ButtonsFormElementName+i))),t},_updateMiscSettings:function(){var t=this,i;for(t.WP$Questions$BaseQuestion$_updateMiscSettings(),t.ButtonsFormElementName="LQL_"+t.ID+u,i=0;i<t.Choices.Models.length;i++)if(t.Choices.Models[i].IsSelected){t.OneAnswerPopulated=n;break}t.TextAnswer&&(t.OneAnswerPopulated=!t.OneAnswerPopulated)},_updateAnswerFromDOM:function(r,u){var f=this,h,o,s,c,e;if(r!==t&&typeof r=="object"&&r instanceof jQuery)if(r[0].type==="text")h=r.val(),f.TextAnswer!==h&&(o=n),f.TextAnswer=h,o&&$afe.select(".time-with-units-buttons [name='"+f.ButtonsFormElementName+i).first().trigger("change",n);else{if(c=r.val(),f.Choices!==t&&f.Choices.Models!==t&&u.type!=="focusout")for(s=0;s<f.Choices.Models.length;s++)e=f.Choices.Models[s],e.Index===c?r.is(":checked")?(e.IsSelected||(o=n),e.IsSelected=n):(e.IsSelected&&(o=n),e.IsSelected=!1):(e.IsSelected&&(o=n),e.IsSelected=!1);o&&($afe.select(".answers > [name='"+f.FormElementName+i).trigger("change",n),f.HasAnswers=f._isQuestionAnswered(),f._triggerAnswerChangedCallback(r,n))}},_isQuestionAnswered:function(){return!$$WPUtil.IsNullOrEmpty(this.TextAnswer)||this.Choices.isAnyChoiceSelected()},_hasUnitNoNumber:function(){return $$WPUtil.IsNullOrEmpty(this.TextAnswer)&&this.Choices.isAnyChoiceSelected()},_hasNumberNoUnit:function(){return!$$WPUtil.IsNullOrEmpty(this.TextAnswer)&&!this.Choices.isAnyChoiceSelected()}};r.prototype=f;$$WP.Questions=$$WP.Questions||{};$$WP.Questions.TimeWithUnitsQuestion=r;r.extend($$WP.Questions.BaseQuestion,"WP$Questions$TimeWithUnitsQuestion")}();$$WP.Debug.UnitTest=$$WP.Debug.UnitTest||{};$$WP.Debug.UnitTest.tests=$$WP.Debug.UnitTest.tests||[];$$WP.Debug.UnitTest.tests.push(function(){var n=$$WP.Debug.UnitTest.assert});applicationWelcome=78,function(){var f="_buttons",t=!0,i=!1,n=null,r="OtherSelected",u=function(n,t){var i=this;i.Choices=$$WP.Questions.Choice.createChoiceCollection(n.Choices);i.HasQuickButtons=i.Choices&&i.Choices.Models&&i.Choices.Models.length>0;i.WP$Questions$BaseQuestion(n,t)},e={s_dataMembers:["ID","FollowUpQuestionID","Name","DAT","QuestionType","ResponseType","Prompt","HelpText","IsRequired","IsMultiResponse","DisplayStyle","DisplayStyleVal","IsTrigger","IsEnabled","AnswerChangedCallback","Answer","Precision","MinValue","MaxValue","ShowAsSlider","SliderOptions","Timer","Delay",r],Answer:n,Precision:n,MinValue:n,MaxValue:n,SliderFormElementName:n,ShowAsSlider:i,SliderOptions:n,AriaLabelText:n,MinAriaLabelText:n,MaxAriaLabelText:n,TextFieldAriaLabelText:n,AnswerIsMin:i,AnswerIsMax:i,SliderController:n,Choices:n,HasQuickButtons:i,OtherSelected:i,ButtonsFormElementName:n,ButtonValidationSettings:n,convertToCoreQuestionModel:function(){var n=this,t={},r,i;return t=n.WP$Questions$BaseQuestion$convertToCoreQuestionModel(),t.MinValue=n.MinValue,t.MaxValue=n.MaxValue,t.Precision=n.Precision,i=n.Choices.getSelectedChoices(),r=i.length>0?i[0].Index:n._getInvalidInputs().length>0||n.HasQuickButtons&&!n.OtherSelected?"":n.Answer,t.Answer={Text:r},t},_updateMnemonics:function(){var o="Selected",s="@MYCHART@CURRSLIDERVALUE@",h="@MYCHART@MAXLABEL@",c="@MYCHART@MAX@",l="@MYCHART@MINLABEL@",a="@MYCHART@MIN@",n=this,r,f,e,u,t,i;n.ShowAsSlider&&($$WP.Strings.setDefaultNamespace("Questions"),$$WP.Strings.addMnemonic(a,n.SliderOptions.MinLocal),$$WP.Strings.addMnemonic(l,n.SliderOptions.MinLabel),$$WP.Strings.addMnemonic(c,n.SliderOptions.MaxLocal),$$WP.Strings.addMnemonic(h,n.SliderOptions.MaxLabel),$$WP.Strings.addMnemonic(s,n.Answer),t=n.SliderOptions.MinLabel&&n.SliderOptions.MinLabel!==n.SliderOptions.MinLocal.toString(),i=n.SliderOptions.MaxLabel&&n.SliderOptions.MaxLabel!==n.SliderOptions.MaxLocal.toString(),$$WP.Utilities.UI.IsMobile||$$WP.ApplicationContext===applicationWelcome?r=n.Answer?t&&i?"SliderDescriptionWithValueAndLabelsMobile":t?"SliderDescriptionWithValueAndMinLabelMobile":i?"SliderDescriptionWithValueAndMaxLabelMobile":"SliderDescriptionWithValueNoLabelsMobile":t&&i?"SliderDescriptionEmptyWithLabelsMobile":t?"SliderDescriptionEmptyWithMinLabelMobile":i?"SliderDescriptionEmptyWithMaxLabelMobile":"SliderDescriptionEmptyNoLabelsMobile":t&&i?(r="SliderDescriptionWithLabelsWeb",u="TextFieldDescriptionWithLabels"):t?(r="SliderDescriptionWithMinLabelWeb",u="TextFieldDescriptionWithMinLabel"):i?(r="SliderDescriptionWithMaxLabelWeb",u="TextFieldDescriptionWithMaxLabel"):(r="SliderDescriptionNoLabelsWeb",u="TextFieldDescriptionNoLabels"),f=t?"SliderMinWithLabel":"SliderMin",n.AnswerIsMin&&(f+=o),e=i?"SliderMaxWithLabel":"SliderMax",n.AnswerIsMax&&(e+=o),n.AriaLabelText=$$WP.Strings.getForTemplate(r),n.MinAriaLabelText=$$WP.Strings.getForTemplate(f),n.MaxAriaLabelText=$$WP.Strings.getForTemplate(e),n.TextFieldAriaLabelText=$$WP.Strings.getForTemplate(u),$$WP.Strings.removeMnemonic(a),$$WP.Strings.removeMnemonic(l),$$WP.Strings.removeMnemonic(c),$$WP.Strings.removeMnemonic(h),$$WP.Strings.removeMnemonic(s),$$WP.Strings.clearDefaultNamespace())},_updateValidationSettings:function(){var n=this,i;i=new $$WP.FormValidation.ValidationSettings({isNumber:t,min:n.MinValue,max:n.MaxValue,precision:n.Precision,maxLength:"255"});n.ValidationSettings=i;n.ButtonValidationSettings=new $$WP.FormValidation.ValidationSettings;n.HasQuickButtons?(n.ButtonValidationSettings.required=n.IsRequired,n.ValidationSettings.required=n.OtherSelected):n.ValidationSettings.required=n.IsRequired},_getValidationSettingsForInput:function(t){var i=t.safeAttr("name");return i!==n&&typeof i=="string"&&i.indexOf(f)>-1?this.ButtonValidationSettings:this.ValidationSettings},_updateAnswerFromDOM:function(u,f){var l=":checked",e=this,s,h,a,c,o;if(u!==n&&typeof u=="object"&&u instanceof jQuery){if(u[0].type==="text")s=u.val(),s&&(s=s.toString().replace(/\s+$/,"")),e.Answer!==s&&(h=t),e.Answer=s;else if(a=u.val(),e.Choices!==n&&e.Choices.Models!==n&&f.type!=="focusout"){for(c=0;c<e.Choices.Models.length;c++)o=e.Choices.Models[c],o.Index===a?u.is(l)?(o.IsSelected||(h=t),o.IsSelected=t,e.setProperty(r,i)):(o.IsSelected&&(h=t),o.IsSelected=i):(o.IsSelected&&(h=t),o.IsSelected=i);a===""&&(e.OtherSelected==u.is(l)||$$WPUtil.IsNullOrEmpty(e.Answer)||(h=t),e.setProperty(r,u.is(l)))}h&&(e.HasAnswers=e._isQuestionAnswered(),e._triggerAnswerChangedCallback(u,t))}},_isQuestionAnswered:function(){return!$$WPUtil.IsNullOrEmpty(this.Answer)||this.Choices.isAnyChoiceSelected()},_updateMiscSettings:function(){var n=this;n.WP$Questions$BaseQuestion$_updateMiscSettings();n.ShowAsSlider?(n.CssClassName=n.CssClassName+" questionSlider "+n.DisplayStyle,n.MinValue=n.SliderOptions.Min,n.MaxValue=n.SliderOptions.Max,n.SliderOptions.MinLocal=$$WP.I18N.formatNumber(n.SliderOptions.Min,n.Precision),n.SliderOptions.MaxLocal=$$WP.I18N.formatNumber(n.SliderOptions.Max,n.Precision),n.Answer&&(n.Answer.toString()===n.MinValue.toString()?n.AnswerIsMin=t:n.Answer.toString()===n.MaxValue.toString()&&(n.AnswerIsMax=t)),n.SliderFormElementName=n.FormElementName+"_slider"):n.ButtonsFormElementName=n.FormElementName+f}};u.prototype=e;$$WP.Questions=$$WP.Questions||{};$$WP.Questions.NumericQuestion=u;u.extend($$WP.Questions.BaseQuestion,"WP$Questions$NumericQuestion")}();$$WP.Debug.UnitTest=$$WP.Debug.UnitTest||{};$$WP.Debug.UnitTest.tests=$$WP.Debug.UnitTest.tests||[];$$WP.Debug.UnitTest.tests.push(function(){var n=$$WP.Debug.UnitTest.assert}),function(){var n=!1,t=null,i=!0,r=function(n,t){var r=this;r.Choices=$$WP.Questions.Choice.createChoiceCollection(n.Choices);r.WP$Questions$BaseQuestion(n,t);r.GroupValidationSettings=new $$WP.FormValidation.ValidationGroup({name:"FollowUpGroup_"+r.FormElementName,evaluateParentGroups:i,evaluateNestedGroups:i});r.IsWelcomeOrMobile=$$WP.Utilities.UI.IsMobile||$$WP.ApplicationContext===applicationWelcome},u={s_dataMembers:["ID","FollowUpQuestionID","Name","DAT","QuestionType","ResponseType","Prompt","HelpText","IsRequired","IsMultiResponse","DisplayStyle","DisplayStyleVal","IsTrigger","IsEnabled","AnswerChangedCallback","Timer","Delay"],Choices:t,IsSelected:n,AnyFollowUpQuestionsAnswered:n,IsWelcomeOrMobile:n,GroupValidationSettings:t,HasFollowUpAnswers:t,ToggleFollowUpQuestions:t,convertToCoreQuestionModel:function(){var n={};return n=this.WP$Questions$BaseQuestion$convertToCoreQuestionModel(),n.Answer={Choices:[]},n.Answer={},n.Answer.Choices=this.Choices.convertToCoreChoiceArray(),n},followUpAnswersChanged:function(){this._updateFollowUpQuestionsAnswered()},_updateMnemonics:function(){var n="@MYCHART@FOLLOWUPPARENTQUESTIONPROMPT@";$$WP.Strings.setDefaultNamespace("Questions");this.HasFollowUpAnswers=$$WP.Strings.getForTemplate("HasFollowUpAnswers");$$WP.Strings.addMnemonic(n,this.Prompt,"");this.ToggleFollowUpQuestions=$$WP.Strings.getForTemplate("ToggleFollowUpQuestions");$$WP.Strings.removeMnemonic(n);$$WP.Strings.clearDefaultNamespace()},_updateValidationSettings:function(){this.ValidationSettings=new $$WP.FormValidation.ValidationSettings({required:this.IsRequired})},_updateAnswerFromDOM:function(r,u){var c=":checked",f=this,s,e,o,l,h;if(r!==t&&typeof r=="object"&&r instanceof jQuery){if(r.closest(".questionGroupAsList").length>0&&r.val().indexOf("LQL_")!==-1?(l=r.val().substr(4),s=l===f.ID&&r.is(c)?"1":"2"):s=r.val(),f.Choices!==t&&u.type!=="focusout")for(o=0;o<f.Choices.Models.length;o++)e=f.Choices.Models[o],e.Index===s&&r.is(c)?(e.IsSelected||(h=i),e.IsSelected=i):(e.IsSelected&&(h=i),e.IsSelected=n);h&&(f.HasAnswers=f._isQuestionAnswered(),f._triggerAnswerChangedCallback(r,n))}},_isQuestionAnswered:function(){return this.Choices.isAnyChoiceSelected()},_updateFollowUpQuestionsAnswered:function(){var t=this,r,u,f;if(t.Choices&&t.Choices.Models){for(r=0;r<t.Choices.Models.length;r++)if(f=t.Choices.Models[r].FollowUpQuestions,f)for(u=0;u<f.Models.length;u++)if(f.Models[u].HasAnswers){t.AnyFollowUpQuestionsAnswered=i;return}t.AnyFollowUpQuestionsAnswered=n}}};r.prototype=u;$$WP.Questions=$$WP.Questions||{};$$WP.Questions.YesNoQuestion=r;r.extend($$WP.Questions.BaseQuestion,"WP$Questions$YesNoQuestion")}();$$WP.Debug.UnitTest=$$WP.Debug.UnitTest||{};$$WP.Debug.UnitTest.tests=$$WP.Debug.UnitTest.tests||[];$$WP.Debug.UnitTest.tests.push(function(){var n=$$WP.Debug.UnitTest.assert}),function(){var t=!0,i=!1,n=null,r=function(n,t){this.Choices=$$WP.Questions.Choice.createChoiceCollection(n.Choices);this.WP$Questions$BaseQuestion(n,t)},u={s_dataMembers:["ID","FollowUpQuestionID","Name","DAT","QuestionType","ResponseType","Prompt","HelpText","IsRequired","IsMultiResponse","DisplayStyle","DisplayStyleVal","IsTrigger","IsEnabled","AnswerChangedCallback","MaxButtons","ShowAsSlider","SliderOptions","HasAnswer","AnswerNdx","Timer","Delay","CustomListOptionStyle"],Choices:n,MaxButtons:n,MultiResponsePrompt:n,ShowAsSelectDropDown:i,SelectSize:1,DropDownDefaultOptionText:n,ShowAsSlider:i,SliderOptions:n,SliderFormElementName:n,HasAnswer:i,AnswerNdx:n,AnswerNdxString:n,AnswerImg:n,AnswerText:n,ShowAllOptions:t,SliderController:n,AriaLabelText:n,MinAriaLabelText:n,MaxAriaLabelText:n,CustomListOptionStyle:$$WP.Questions.CustomListOptionStyle.Text,convertToCoreQuestionModel:function(){var n={};return n=this.WP$Questions$BaseQuestion$convertToCoreQuestionModel(),n.Answer={Choices:[]},n.Answer={},n.Answer.Choices=this.Choices.convertToCoreChoiceArray(),n},_updateMnemonics:function(){var f="@MYCHART@CURRSLIDERVALUE@",e="@MYCHART@MAXLABEL@",o="@MYCHART@MINLABEL@",n=this,s,t,i,r,u;if($$WP.Strings.setDefaultNamespace("Questions"),n.ShowAsSlider){if($$WP.Strings.addMnemonic(o,n.Choices.Models[0].Text),$$WP.Strings.addMnemonic(e,n.Choices.Models[n.Choices.Models.length-1].Text),n.AnswerNdx)for(r=0;r<n.Choices.Models.length;r++)if(u=n.Choices.Models[r],u.IsSelected){$$WP.Strings.addMnemonic(f,u.Text);break}s=n.AnswerNdx?n.SliderOptions.DisplayVertically?"VerticalCustomListSliderDescriptionWithValueAndLabelsWeb":n.SliderOptions.IsRTL?"HorizontalRTLCustomListSliderDescriptionWithValueAndLabelsWeb":"HorizontalCustomListSliderDescriptionWithValueAndLabelsWeb":n.SliderOptions.DisplayVertically?"VerticalCustomListSliderDescriptionEmptyWithLabelsWeb":n.SliderOptions.IsRTL?"HorizontalRTLCustomListSliderDescriptionEmptyWithLabelsWeb":"HorizontalCustomListSliderDescriptionEmptyWithLabelsWeb";n.SliderOptions.DisplayVertically?(t="CustomListSliderMinVertical",i="CustomListSliderMaxVertical"):n.SliderOptions.IsRTL?(t="CustomListSliderMinHorizontalRTL",i="CustomListSliderMaxHorizontalRTL"):(t="CustomListSliderMinHorizontal",i="CustomListSliderMaxHorizontal");n.AriaLabelText=$$WP.Strings.getForTemplate(s);n.MinAriaLabelText=$$WP.Strings.getForTemplate(t);n.MaxAriaLabelText=$$WP.Strings.getForTemplate(i);$$WP.Strings.removeMnemonic(o);$$WP.Strings.removeMnemonic(e);$$WP.Strings.removeMnemonic(f)}n.IsMultiResponse&&(n.MultiResponsePrompt=$$WP.Strings.getForTemplate("MultipleResponsePrompt"));n.ShowAsSelectDropDown&&(n.DropDownDefaultOptionText=$$WP.Strings.getForTemplate("DropDownDefaultOptionText"));$$WP.Strings.clearDefaultNamespace()},_updateValidationSettings:function(){var n=this;n.ValidationSettings=new $$WP.FormValidation.ValidationSettings;n.ShowAsSelectDropDown&&(n.ValidationSettings.nullValue="-1",n.IsMultiResponse&&(n.ValidationSettings.nullValue=""));n.IsMultiResponse?n.ValidationSettings.atLeastOneChecked=n.IsRequired:n.ValidationSettings.required=n.IsRequired},_updateMiscSettings:function(){var r=this,u,e,o,f,s;for(r.WP$Questions$BaseQuestion$_updateMiscSettings(),r.MaxButtons&&!r.ShowAsSlider&&(r.ShowAsSelectDropDown=r.Choices.Models.length>r.MaxButtons&&!r.DisplayStyle),e=o=i,(r.CustomListOptionStyle===$$WP.Questions.CustomListOptionStyle.Text||r.CustomListOptionStyle===$$WP.Questions.CustomListOptionStyle.TextWithImage)&&(e=t),(r.CustomListOptionStyle===$$WP.Questions.CustomListOptionStyle.TextWithImage||r.CustomListOptionStyle===$$WP.Questions.CustomListOptionStyle.Image)&&(o=t,r.ShowAsSelectDropDown=i,r.CssClassName=r.CssClassName+" withImage"),r.CustomListOptionStyle===$$WP.Questions.CustomListOptionStyle.Image&&(r.CssClassName=r.CssClassName+" imageOnly"),f=0;f<r.Choices.Models.length;f++)u=r.Choices.Models[f],u!==n&&(u.CanShowText=e,u.CanShowImage=o,$$WPUtil.IsNullOrEmpty(u.ImagePath)||(u.ImagePath="Image/Load?image="+u.ImagePath));if(r.ShowAsSelectDropDown?r.IsMultiResponse?(r.SelectSize=10,r.Choices.Models.length<10&&(r.SelectSize=r.Choices.Models.length)):r.SelectSize=1:r.CssClassName=r.CssClassName+" customList",r.ShowAsSlider){for(r.CssClassName=r.CssClassName+" questionSlider ",r.SliderOptions.ShowAllOptions=t,r.SliderOptions.DisplayVertically||($$WP.Utilities.UI.IsMobile||$$WP.ApplicationContext===applicationWelcome)&&(r.DisplayStyle="VERTSLIDER",r.SliderOptions.DisplayVertically=t),s=1,f=0;f<r.Choices.Models.length;f++)u=r.Choices.Models[f],u.IsSelected&&(r.AnswerImg=u.ImagePath,r.AnswerText=u.Text),u.SliderNdx=s,s++;r.AnswerNdx&&(r.AnswerNdxString=r.AnswerNdx.toFixed(0));r.SliderFormElementName=r.FormElementName+"_slider"}},_updateAnswerFromDOM:function(r,u){var e=this,s,f,h,o;if(r!==n&&typeof r=="object"&&r instanceof jQuery){if(s=r.val(),e.Choices!==n&&e.Choices.Models!==n&&(u.type!=="focusout"||e.ShowAsSelectDropDown))for(h=0;h<e.Choices.Models.length;h++)f=e.Choices.Models[h],e.ShowAsSelectDropDown?e.IsMultiResponse?s&&s.indexOf(f.Index)!==-1?(f.IsSelected||(o=t),f.IsSelected=t):(f.IsSelected&&(o=t),f.IsSelected=i):s&&s===f.Index?(f.IsSelected||(o=t),f.IsSelected=t):(f.IsSelected&&(o=t),f.IsSelected=i):f.Index===s?r.is(":checked")?(f.IsSelected||(o=t),f.IsSelected=t):(f.IsSelected&&(o=t),f.IsSelected=i):e.IsMultiResponse||(f.IsSelected=i);o&&(e.HasAnswers=e._isQuestionAnswered(),e._triggerAnswerChangedCallback(r,e.ShowAsSelectDropDown))}},_updateClassName:function(){this.ShowAsSlider&&(this.CssClassName=this.CssClassName+" sliderquestion ")},_isQuestionAnswered:function(){return this.Choices.isAnyChoiceSelected()}};r.prototype=u;$$WP.Questions=$$WP.Questions||{};$$WP.Questions.CustomListQuestion=r;r.extend($$WP.Questions.BaseQuestion,"WP$Questions$CustomListQuestion")}();$$WP.Debug.UnitTest=$$WP.Debug.UnitTest||{};$$WP.Debug.UnitTest.tests=$$WP.Debug.UnitTest.tests||[];$$WP.Debug.UnitTest.tests.push(function(){var n=$$WP.Debug.UnitTest.assert}),function(){var t=!1,n=null,i=function(n,t){this.Choices=$$WP.Questions.Choice.createChoiceCollection(n.Choices);this.WP$Questions$BaseQuestion(n,t)},r={s_dataMembers:["ID","FollowUpQuestionID","Name","DAT","QuestionType","ResponseType","Prompt","HelpText","IsRequired","IsMultiResponse","HasAnswers","DisplayStyle","DisplayStyleVal","IsTrigger","IsEnabled","Timer","Delay","MaxButtons"],Choices:n,MaxButtons:n,MultiResponsePrompt:n,ShowAsSelectDropDown:t,SelectSize:1,DropDownDefaultOptionText:n,convertToCoreQuestionModel:function(){var n={};return n=this.WP$Questions$BaseQuestion$convertToCoreQuestionModel(),n.Answer={},n.Answer.Choices=this.Choices.convertToCoreChoiceArray(),n},_updateMnemonics:function(){var n=this;$$WP.Strings.setDefaultNamespace("Questions");n.IsMultiResponse&&(n.MultiResponsePrompt=$$WP.Strings.getForTemplate("MultipleResponsePrompt"));n.ShowAsSelectDropDown&&(n.DropDownDefaultOptionText=$$WP.Strings.getForTemplate("DropDownDefaultOptionText"));$$WP.Strings.clearDefaultNamespace()},_updateValidationSettings:function(){var n=this;n.ValidationSettings=new $$WP.FormValidation.ValidationSettings;n.ShowAsSelectDropDown&&(n.ValidationSettings.nullValue="-1",n.IsMultiResponse&&(n.ValidationSettings.nullValue=""));n.IsMultiResponse?n.ValidationSettings.atLeastOneChecked=n.IsRequired:n.ValidationSettings.required=n.IsRequired},_updateMiscSettings:function(){var n=this;n.WP$Questions$BaseQuestion$_updateMiscSettings();n.MaxButtons&&(n.ShowAsSelectDropDown=$$WP.ApplicationContext===78?n.Choices.Models.length>n.MaxButtons&&!n.DisplayStyle:n.Choices.Models.length>n.MaxButtons);n.ShowAsSelectDropDown&&(n.IsMultiResponse?(n.SelectSize=10,n.Choices.Models.length<10&&(n.SelectSize=n.Choices.Models.length)):n.SelectSize=1)},_updateAnswerFromDOM:function(i,r){var e=!0,f=this,s,u,h,o;if(i!==n&&typeof i=="object"&&i instanceof jQuery){if(s=i.val(),f.Choices!==n&&f.Choices.Models!==n&&(r.type!=="focusout"||f.ShowAsSelectDropDown))for(h=0;h<f.Choices.Models.length;h++)u=f.Choices.Models[h],f.ShowAsSelectDropDown?f.IsMultiResponse?s&&s.indexOf(u.Index)!==-1?(u.IsSelected||(o=e),u.IsSelected=e):(u.IsSelected&&(o=e),u.IsSelected=t):s&&s===u.Index?(u.IsSelected||(o=e),u.IsSelected=e):(u.IsSelected&&(o=e),u.IsSelected=t):u.Index===s?i.is(":checked")?(u.IsSelected||(o=e),u.IsSelected=e):(u.IsSelected&&(o=e),u.IsSelected=t):f.IsMultiResponse||(u.IsSelected=t);o&&(f.HasAnswers=f._isQuestionAnswered(),f._triggerAnswerChangedCallback(i,f.ShowAsSelectDropDown))}},_isQuestionAnswered:function(){return this.Choices.isAnyChoiceSelected()}};i.prototype=r;$$WP.Questions=$$WP.Questions||{};$$WP.Questions.CategoryINIQuestion=i;i.extend($$WP.Questions.BaseQuestion,"WP$Questions$CategoryINIQuestion")}();$$WP.Debug.UnitTest=$$WP.Debug.UnitTest||{};$$WP.Debug.UnitTest.tests=$$WP.Debug.UnitTest.tests||[];$$WP.Debug.UnitTest.tests.push(function(){var n=$$WP.Debug.UnitTest.assert}),function(){$$WP.Utilities.guaranteeExistence($$WP,"Questions");var n=function(n,t){this.WP$Questions$BaseQuestion(n,t);this.Answers=n.Answers};n.prototype={s_dataMembers:["ID","FollowUpQuestionID","Name","DAT","QuestionType","ResponseType","DisplayStyle","DisplayStyleVal","Prompt","HelpText","IsRequired","Answers","IsEnabled"],Answers:null,get AnswersAsJson(){return(this.Answers||[]).length===0?"":JSON.stringify(this.Answers)},convertToCoreQuestionModel:function(){var n={},i,t;for(n=this.WP$Questions$BaseQuestion$convertToCoreQuestionModel(),n.Answer={Choices:[]},i=(this.Answers||[]).length,t=0;t<i;++t)n.Answer.Choices.push({Index:this.Answers[t].DocumentId});return n},_updateMnemonics:function(){},_updateValidationSettings:function(){this.ValidationSettings=new $$WP.FormValidation.ValidationSettings({required:this.IsRequired})},_updateAnswerFromDOM:function(n){var t=this,i="";n!==null&&typeof n=="object"&&n instanceof jQuery&&(i=n.val(),t.Answers=i&&i.length>0?$$WP.Upload.Models.Document.parseList(JSON.parse(i)):[],t.HasAnswers=t._isQuestionAnswered(),t._triggerAnswerChangedCallback(n,!0))},_isQuestionAnswered:function(){return(this.Answers||[]).length!==0}};$$WP.Questions.UploadQuestion=n;n.extend($$WP.Questions.BaseQuestion,"WP$Questions$UploadQuestion")}(),function(){var t=!0,n=null,i=function(n,t){this.WP$Questions$BaseQuestion(n,t)},r={s_dataMembers:["ID","FollowUpQuestionID","Name","DAT","QuestionType","ResponseType","Prompt","HelpText","IsRequired","IsMultiResponse","DisplayStyle","DisplayStyleVal","IsTrigger","IsEnabled","DrawingDetails","DrawingResponse"],DrawingDetails:n,DrawingResponse:n,controller:n,TextAreaValidationSettings:n,TextAreaFormElementName:n,AnswerExists:!1,convertToCoreQuestionModel:function(){var t=this,n={},i;return n=t.WP$Questions$BaseQuestion$convertToCoreQuestionModel(),n.DrawingDetails={ImagePath:t.DrawingDetails.ImagePath},t.controller&&(n.Answer={},n.Answer.DrawingResponse=t.controller.getDrawingResponse(),i=$afe.select('.question.drawing[data-lql="'+n.ID+'"]'),i.find('textarea[data-invalid="true"]').length>0&&(n.Answer.DrawingResponse.Comments=""),n.Answer.DrawingResponse.DcsID=t.DrawingResponse.DcsID),n},_updateMnemonics:function(){},_updateValidationSettings:function(){this.ValidationSettings=new $$WP.FormValidation.ValidationSettings({required:this.IsRequired});this.TextAreaValidationSettings=new $$WP.FormValidation.ValidationSettings({maxLength:1e3,showCharacterCounter:t})},_updateMiscSettings:function(){var n=this;n.WP$Questions$BaseQuestion$_updateMiscSettings();n.DrawingResponse.Comments?n.AnswerExists=t:n.DrawingResponse.XValues&&n.DrawingResponse.XValues.length>0&&(n.AnswerExists=t);n.TextAreaFormElementName="LQL_"+n.ID+"_drawingComment"},_updateAnswerFromDOM:function(i){i!==n&&typeof i=="object"&&i instanceof jQuery&&i.hasClass("drawingcomment")&&this.controller.updateValidationElement(t)},_isQuestionAnswered:function(){return!1}};i.prototype=r;$$WP.Questions=$$WP.Questions||{};$$WP.Questions.DrawingQuestion=i;i.extend($$WP.Questions.BaseQuestion,"WP$Questions$DrawingQuestion")}();$$WP.Debug.UnitTest=$$WP.Debug.UnitTest||{};$$WP.Debug.UnitTest.tests=$$WP.Debug.UnitTest.tests||[];$$WP.Debug.UnitTest.tests.push(function(){var n=$$WP.Debug.UnitTest.assert}),function(){var t=!1,n=null,i=function(n,t){this.WP$Questions$BaseQuestion(n,t)},r={s_dataMembers:["ID","FollowUpQuestionID","Name","DAT","QuestionType","ResponseType","Prompt","HelpText","IsRequired","IsMultiResponse","DisplayStyle","DisplayStyleVal","IsTrigger","IsEnabled","AnswerChangedCallback","GroupQuestions","ShowGroupQuestionsAsList","AreAllQuestionsYesNo","HasAnyFollowUpQuestions","GroupQuestionLayout","GroupQuestionLayoutCSS","DisabledBecauseChildrenAllDisabled","Timer","Delay"],GroupQuestions:n,ShowGroupQuestionsAsList:t,AreAllQuestionsYesNo:t,HasAnyFollowUpQuestions:t,MultiResponsePrompt:n,GroupQuestionLayout:0,GroupQuestionLayoutCSS:n,DisabledBecauseChildrenAllDisabled:t,DisplayTemplateStyle:0,TableLayoutGroupQuestions:[],convertToCoreQuestionModel:function(){var n={},t,i;for(n=this.WP$Questions$BaseQuestion$convertToCoreQuestionModel(),n.GroupQuestions=[],t=0;t<this.GroupQuestions.Models.length;t++)i=this.GroupQuestions.Models[t].convertToCoreQuestionModel(),n.GroupQuestions.push(i);return n},_updateSelectedFlagIfYesNoQuestion:function(){var o,u,f,i,r,e;if(this.GroupQuestions!==n&&(r=this.GroupQuestions.Models,this.AreAllQuestionsYesNo&&r!==n&&r.length>0))for(f=0;f<r.length;f++)if(i=r[f],i!==n&&i.ResponseType===8&&i.Choices!==n&&i.Choices.Models!==n){for(o=t,e=0;e<i.Choices.Models.length;e++)u=i.Choices.Models[e],u!==n&&u.Index==="1"&&u.IsSelected&&(o=!0);i.IsSelected=o}},_updateClassName:function(){var t=this,u,i,f,r;if(t.GroupQuestions!==n){if(t.AreAllQuestionsYesNo&&!t.ShowGroupQuestionsAsList){switch(t.GroupQuestionLayout){case $$WP.Questions.GroupQuestionDisplayStyle.SingleColumn:r="col-12";break;case $$WP.Questions.GroupQuestionDisplayStyle.TwoColumn:r="col-6";break;case $$WP.Questions.GroupQuestionDisplayStyle.ThreeColumn:r="col-4";break;case $$WP.Questions.GroupQuestionDisplayStyle.FourColumn:r="col-3"}t.GroupQuestionLayoutCSS=t.GroupQuestionLayoutCSS+" allyesno"}for(f=t.GroupQuestions.Models,u=0;u<f.length;u++)i=f[u],i!==n&&(i.CssClassName=i.CssClassName+" questiongroupitem ",r&&isDataTile()&&!$$WP.Utilities.UI.IsMobile&&(i.CssClassName=i.CssClassName+r))}},_updateMnemonics:function(){$$WP.Strings.setDefaultNamespace("Questions");this.AreAllQuestionsYesNo&&(this.MultiResponsePrompt=$$WP.Strings.getForTemplate("MultipleResponsePrompt"));$$WP.Strings.clearDefaultNamespace()},_updateValidationSettings:function(){this.ValidationSettings=new $$WP.FormValidation.ValidationSettings({atLeastOneChecked:this.IsRequired})},_getInvalidInputs:function(){for(var t=$afe.jq(),n=0;n<this.GroupQuestions.Models.length;n++)$.merge(t,this.GroupQuestions.Models[n]._getInvalidInputs());return t},_areAllChildrenDisabled:function(){for(var i=!0,n=0;n<this.GroupQuestions.Models.length;n++)if(this.GroupQuestions.Models[n].IsEnabled){i=t;break}return i},_updateLayoutSettings:function(){var t=this,r=0,u=1,s=0,f,e=0,i,o;if(t.GroupQuestionLayout===$$WP.Questions.GroupQuestionDisplayStyle.Table)for(t.TableLayoutGroupQuestions=[],t.GroupQuestions.Models!==n&&t.GroupQuestions.Models.length>0&&(r=t.GroupQuestions.Models[0].Choices.Models.length,s=t.GroupQuestions.Models.length,o=t.__enabledChildQuestionsCount()),$$WP.ApplicationContext===78?t.AreAllQuestionsYesNo||(t.GroupQuestionLayout=0):$$WP.Utilities.UI.IsMobile?r>3&&(t.GroupQuestionLayout=0):(r>11&&(t.GroupQuestionLayout=0),t.AreAllQuestionsYesNo&o>5&&(u=2)),i=0;i<u;i++)f=e,e=t.__getQuestionEndPosForTheColumn(f,o,s,u),t.TableLayoutGroupQuestions[i]=jQuery.extend(!0,{},t.GroupQuestions),t.TableLayoutGroupQuestions[i].Models=t.TableLayoutGroupQuestions[i].Models.slice(f,e);t.HasAnyFollowUpQuestions?t.DisplayTemplateStyle=4:t.ShowGroupQuestionsAsList?t.DisplayTemplateStyle=1:t.GroupQuestionLayout===$$WP.Questions.GroupQuestionDisplayStyle.Table?(t.DisplayTemplateStyle=2,t.__updateQuestionHasStripeAttrForTableLayout()):t.AreAllQuestionsYesNo&&t.GroupQuestionLayout>0&&t.GroupQuestionLayout<5&&(t.DisplayTemplateStyle=3)},__updateQuestionHasStripeAttrForTableLayout:function(){var i=this,r,e,u,o,f=t;if(i.GroupQuestionLayout===$$WP.Questions.GroupQuestionDisplayStyle.Table&&i.GroupQuestions.Models!==n)for(r=0;r<i.TableLayoutGroupQuestions.length;r++)for(f=t,e=i.TableLayoutGroupQuestions[r],u=0;u<e.Models.length;u++)o=e.Models[u],o.IsEnabled&&(f=!f,o.HasZebraStripeOn=f)},__enabledChildQuestionsCount:function(){for(var t=0,n=0;n<this.GroupQuestions.Models.length;n++)this.GroupQuestions.Models[n].IsEnabled&&t++;return t},__getQuestionEndPosForTheColumn:function(n,t,i,r){var u=0,f,e,o=0;if(r===1||n!==0)u=i+1;else{if(e=Math.ceil(t/r),e!==0)for(f=n;f<i;f++)if(this.GroupQuestions.Models[f].IsEnabled&&o++,o===e){u=f+1;break}u===0&&(u=i+1)}return u},_isQuestionAnswered:function(){return t}};i.prototype=r;$$WP.Questions=$$WP.Questions||{};$$WP.Questions.GroupQuestion=i;i.extend($$WP.Questions.BaseQuestion,"WP$Questions$GroupQuestion")}();$$WP.Debug.UnitTest=$$WP.Debug.UnitTest||{};$$WP.Debug.UnitTest.tests=$$WP.Debug.UnitTest.tests||[];$$WP.Debug.UnitTest.tests.push(function(){var n=$$WP.Debug.UnitTest.assert}),function(){var t=$$WP.Questions.QuestionTypeEnum,i=$$WP.Questions.ResponseTypeEnum,n=function(n,t,i){this.WP$Common$ModelCollection(n,t,i)},r={convertToCoreQuestionArray:function(n){for(var f=[],r,e=0,u=0;u<this.Models.length;u++)r=this.Models[u],$.isFunction(r.convertToCoreQuestionModel)&&(n&&(r.QuestionType===t.Drawing||r.ResponseType===i.TimeWithUnits)||(f[e++]=r.convertToCoreQuestionModel())),r=null;return f}};n.prototype=r;$$WP.Questions=$$WP.Questions||{};$$WP.Questions.QuestionCollection=n;n.extend($$WP.Common.ModelCollection,"WP$Questions$QuestionCollection")}();$$WP.Debug.UnitTest=$$WP.Debug.UnitTest||{};$$WP.Debug.UnitTest.tests=$$WP.Debug.UnitTest.tests||[];$$WP.Debug.UnitTest.tests.push(function(){var n=$$WP.Debug.UnitTest.assert}),function(){$$WP.Utilities.guaranteeExistence($$WP,"Questions");var n=function(){};n.prototype={ValidationSettings:null,FormElementName:null,Prompt:null};$$WP.Questions=$$WP.Questions||{};$$WP.Questions.AddressFieldSettings=n;n.extend($$WP.BaseObject,"WP$Questions$AddressFieldSettings")}();$$WP.Debug.UnitTest=$$WP.Debug.UnitTest||{};$$WP.Debug.UnitTest.tests=$$WP.Debug.UnitTest.tests||[];$$WP.Debug.UnitTest.tests.push(function(){var n=$$WP.Debug.UnitTest.assert}),function(){var t=!0,r="name",n=null,i=$$WP.Questions.AddressFieldSettings,u=function(n,t){var r=this;r.Street1FieldSettings=new i;r.Street2FieldSettings=new i;r.CityFieldSettings=new i;r.StateFieldSettings=new i;r.ZipCodeFieldSettings=new i;r.WP$Questions$BaseQuestion(n,t)},f={s_dataMembers:["ID","FollowUpQuestionID","Name","DAT","QuestionType","ResponseType","Prompt","HelpText","IsRequired","IsMultiResponse","DisplayStyle","DisplayStyleVal","IsTrigger","IsEnabled","Street1","Street2","City","States","ZipCode"],Street1:n,Street2:n,City:n,States:n,ZipCode:n,PartiallyAnswered:!1,Street1FieldSettings:n,Street2FieldSettings:n,CityFieldSettings:n,StateFieldSettings:n,ZipCodeFieldSettings:n,GroupValidationSettings:n,DropDownDefaultOptionText:n,convertToCoreQuestionModel:function(){for(var t=this,e={},f,s,u,o,h,e=t.WP$Questions$BaseQuestion$convertToCoreQuestionModel(),i=0;i<t.States.length;i++)if(f=t.States[i],f!==n&&f.IsSelected){s={Index:f.Index};break}for(u={Street1:t.Street1,Street2:t.Street2,City:t.City,State:s,ZipCode:t.ZipCode},o=t._getInvalidInputs(),i=0;i<o.length;i++){h=o[i];switch($afe.jq(h).safeAttr(r)){case t.Street1FieldSettings.FormElementName:u.Street1=n;break;case t.Street2FieldSettings.FormElementName:u.Street2=n;break;case t.CityFieldSettings.FormElementName:u.City=n;break;case t.StateFieldSettings.FormElementName:u.State=n;break;case t.ZipCodeFieldSettings.FormElementName:u.ZipCode=n;break;default:return n}}return e.Answer={Address:u},e},_updateMnemonics:function(){var n=this;$$WP.Strings.setDefaultNamespace("Questions");n.Street1FieldSettings.Prompt=$$WP.Strings.getForTemplate("AddressStreetPrompt");n.CityFieldSettings.Prompt=$$WP.Strings.getForTemplate("AddressCityPrompt");n.StateFieldSettings.Prompt=$$WP.Strings.getForTemplate("AddressStatePrompt");n.ZipCodeFieldSettings.Prompt=$$WP.Strings.getForTemplate("AddressZipPrompt");n.DropDownDefaultOptionText=$$WP.Strings.getForTemplate("DropDownDefaultOptionText");$$WP.Strings.clearDefaultNamespace()},_updateValidationSettings:function(){var n=this;n.Street1FieldSettings.ValidationSettings=new $$WP.FormValidation.ValidationSettings({required:n.IsRequired,maxLength:255});n.Street2FieldSettings.ValidationSettings=new $$WP.FormValidation.ValidationSettings({maxLength:255});n.StateFieldSettings.ValidationSettings=new $$WP.FormValidation.ValidationSettings({required:n.IsRequired,nullValue:"-1"});n.CityFieldSettings.ValidationSettings=new $$WP.FormValidation.ValidationSettings({required:n.IsRequired,maxLength:255});n.ZipCodeFieldSettings.ValidationSettings=new $$WP.FormValidation.ValidationSettings({required:n.IsRequired,isUSZipCode:t});n.GroupValidationSettings=new $$WP.FormValidation.ValidationGroup({name:n.FormElementName,allRequired:!n.IsRequired,disableButtonsWhenEmpty:n.IsRequired,evaluateParentGroups:t})},_getValidationSettingsForInput:function(t){var i=this;switch(t.safeAttr(r)){case i.Street1FieldSettings.FormElementName:return i.Street1FieldSettings.ValidationSettings;case i.Street2FieldSettings.FormElementName:return i.Street2FieldSettings.ValidationSettings;case i.CityFieldSettings.FormElementName:return i.CityFieldSettings.ValidationSettings;case i.StateFieldSettings.FormElementName:return i.StateFieldSettings.ValidationSettings;case i.ZipCodeFieldSettings.FormElementName:return i.ZipCodeFieldSettings.ValidationSettings;default:return n}},_getGroupValidationSettings:function(){return this.GroupValidationSettings},_getInvalidInputs:function(){var r="']",u="[name='",n=this,i,t;return i=$afe.select('[data-lql="'+n.ID+'"]'),t=n.WP$Questions$BaseQuestion$_getInvalidInputs(),t.length===0&&(n._areAllQuestionsAnswered()||n._isQuestionAnswered()&&($$WPUtil.IsNullOrEmpty(n.Street1)&&$.merge(t,i.find(u+n.Street1FieldSettings.FormElementName+r)),$$WPUtil.IsNullOrEmpty(n.City)&&$.merge(t,i.find(u+n.CityFieldSettings.FormElementName+r)),n._isStateAnswered()||$.merge(t,i.find(u+n.StateFieldSettings.FormElementName+r)),$$WPUtil.IsNullOrEmpty(n.ZipCode)&&$.merge(t,i.find(u+n.ZipCodeFieldSettings.FormElementName+r)))),t},_updateMiscSettings:function(){var n=this;n.WP$Questions$BaseQuestion$_updateMiscSettings();n.Street1FieldSettings.FormElementName=n.FormElementName+"_street1";n.Street2FieldSettings.FormElementName=n.FormElementName+"_street2";n.CityFieldSettings.FormElementName=n.FormElementName+"_city";n.StateFieldSettings.FormElementName=n.FormElementName+"_state";n.ZipCodeFieldSettings.FormElementName=n.FormElementName+"_zip";n.PartiallyAnswered=n._isQuestionAnswered()&&!n._areAllQuestionsAnswered()},_updateAnswerFromDOM:function(i){var u=this,f,e;if(i!==n&&typeof i=="object"&&i instanceof jQuery){f=i.val();switch(i.safeAttr(r)){case u.Street1FieldSettings.FormElementName:e=u.Street1!==f;u.Street1=f;break;case u.Street2FieldSettings.FormElementName:e=u.Street2!==f;u.Street2=f;break;case u.CityFieldSettings.FormElementName:e=u.City!==f;u.City=f;break;case u.StateFieldSettings.FormElementName:e=u._updateStateAnswer(f);break;case u.ZipCodeFieldSettings.FormElementName:e=u.ZipCode!==f;u.ZipCode=f}e&&(u.HasAnswers=u._isQuestionAnswered(),u._triggerAnswerChangedCallback(i,t))}},_updateStateAnswer:function(n){for(var r,i,u=0;u<this.States.length;u++)i=this.States[u],n&&n===i.Index?(i.IsSelected||(r=t),i.IsSelected=t):i.IsSelected&&(i.IsSelected=!1,r=t);return r},_isQuestionAnswered:function(){var n=this;return!$$WPUtil.IsNullOrEmpty(n.Street1)||!$$WPUtil.IsNullOrEmpty(n.Street2)||!$$WPUtil.IsNullOrEmpty(n.City)||n._isStateAnswered()||!$$WPUtil.IsNullOrEmpty(n.ZipCode)},_areAllQuestionsAnswered:function(){var n=this;return!$$WPUtil.IsNullOrEmpty(n.Street1)&&!$$WPUtil.IsNullOrEmpty(n.City)&&n._isStateAnswered()&&!$$WPUtil.IsNullOrEmpty(n.ZipCode)},_isStateAnswered:function(){for(var i,n=0;n<this.States.length;n++)if(this.States[n].IsSelected){i=t;break}return i}};u.prototype=f;$$WP.Questions=$$WP.Questions||{};$$WP.Questions.AddressQuestion=u;u.extend($$WP.Questions.BaseQuestion,"WP$Questions$AddressQuestion")}();$$WP.Debug.UnitTest=$$WP.Debug.UnitTest||{};$$WP.Debug.UnitTest.tests=$$WP.Debug.UnitTest.tests||[];$$WP.Debug.UnitTest.tests.push(function(){var n=$$WP.Debug.UnitTest.assert})