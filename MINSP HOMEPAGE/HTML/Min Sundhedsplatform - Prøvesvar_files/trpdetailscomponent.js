/*! Copyright (c) Epic Systems Corporation 2017-2018 */
$$WPUtil.guaranteeExistence($$WP,"Clinical.TestResultsPOC.Components");$$WP.Clinical.TestResultsPOC.Components.TRPDetailsComponent=function $$WP$Clinical$Components$TRPDetailsComponent(b){var a=this;a.template=b.template||a.template;a.Class=b.Class;a.Components$TemplateComponent(b);a.Data=a.Data||{};a._resultsPopupComponentFocusIn=b.resultsPopupComponentFocusIn;a.addEventListener("focusin",a._resultsPopupComponentFocusIn)};$$WP.Clinical.TestResultsPOC.Components.TRPDetailsComponent.prototype={template:$$WP.Templates.Clinical.TRPDetails,setDetailsData:function $$WP$Cln$TRPDetailsComp$setDetailsData(h){var g="#printerfriendlylink",f="div#main",b=this;b.$content.empty();$afe.select("head style.initReportStyles").remove();var e=dangerou$.parseHtml(h),d=e.find("div#main div.section");if(!d.length)d=e.find(".nodata");var a;if(d.find(".report").length){a=$.parseHTML(h,undefined,true);a=$afe.select(f,a)}else{$afe.select("head link#EpicBase").remove();a=e.find(f)}b.$content.safeAppend(a);a.removeClass("withSidebar");a.children("a").remove();a.children("div.tabcontainer").safeReplaceWith(d);a.children("div.back").remove();var i=$$WPUtil.parseQueryString($afe.select(g)[0].href);printerfriendlyurl=makeLink("inside.asp?mode=labdetail&eorderid="+i.eorderid+"&printmode=true");$afe.select(g)[0].href=printerfriendlyurl;addComponentTableClasses();b.$content.show(1);b.$content.scrollTop(0);b.$content.safeAttr("tabindex",0);b.ContainerComponent.OpenedWith===""&&b.$content.focus();var c=$afe.jq(document.createElement("a"));c.addClass("focusanchor");c.safeAttr("aria-hidden","true");c.safeAttr("href","#");c.safeAttr("data-id","gotofocused");b.$content.safeAppend(c)},load:function $$WP$Cln$TRPDetailsComp$load(d,c,b){var a=this;a.show();a.$content.hide();return a.makeRequest({success:a.setDetailsData,dataType:"html",type:"GET",url:d},c||"load",b)},hide:function $$WP$Cln$TRPDetailsComp$hide(){$afe.select("head style.initReportStyles").remove();$afe.select("head link#EpicBase").remove();this.Components$TemplateComponent$hide()}};$$WP.Clinical.TestResultsPOC.Components.TRPDetailsComponent.extend("Components.TemplateComponent")